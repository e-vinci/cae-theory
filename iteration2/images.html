<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/cae-theory/_next/static/css/fd89b796fb218fbf.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/cae-theory/_next/static/chunks/webpack-0335b56ac768253e.js"/><script src="/cae-theory/_next/static/chunks/4bd1b696-1c20c52a7d48565d.js" async=""></script><script src="/cae-theory/_next/static/chunks/517-35a1bc7953f03a32.js" async=""></script><script src="/cae-theory/_next/static/chunks/main-app-058efed246406231.js" async=""></script><script src="/cae-theory/_next/static/chunks/144-6ef9499ac178c5dc.js" async=""></script><script src="/cae-theory/_next/static/chunks/245-30e455921c0f8f22.js" async=""></script><script src="/cae-theory/_next/static/chunks/app/layout-a6c5d823159daef4.js" async=""></script><script src="/cae-theory/_next/static/chunks/830-d07b37352b41f989.js" async=""></script><script src="/cae-theory/_next/static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js" async=""></script><title>CAE Course</title><link rel="icon" type="image/svg+xml" href="/cae-theory/favicon.svg"/><title>Images</title><script src="/cae-theory/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-emotion="mui-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="mui-global 1o1x9wj">blockquote{border-left:5px solid #1976d2;background-color:rgba(0, 0, 0, 0.04);padding:0.5em;margin:1em 0;}table{width:100%;border-collapse:collapse;overflow-x:auto;display:block;}th{border:1px solid rgba(0, 0, 0, 0.12);padding:8px;background-color:#1976d2;color:#fff;font-weight:bold;}td{border:1px solid rgba(0, 0, 0, 0.12);padding:8px;}tr:nth-of-type(even){background-color:rgba(0, 0, 0, 0.04);}tr:hover{background-color:rgba(0, 0, 0, 0.08);}</style><style data-emotion="mui ljfsoa w6pz14 awgou1 tdg6lc 1mm3lge 1dya3jy q7mezt 1myx5lw 130f8nx 6n7j50 mcfrop o34szc 1xdhyk6 13wylk3 1oz5b8u 1gychr7 kxijxt wfm2y7 51eq8m 1ttcndq ub0mep 1nd5pgh ihsi0z 14rdsw0 fyswvn">.mui-ljfsoa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:static;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);color:#fff;}.mui-w6pz14{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:var(--Paper-shadow);background-image:var(--Paper-overlay);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:static;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);color:#fff;}.mui-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.mui-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.mui-awgou1{min-height:48px;}}}@media (min-width:600px){.mui-awgou1{min-height:64px;}}.mui-tdg6lc{text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;--IconButton-hoverBg:rgba(0, 0, 0, 0.04);margin-left:-12px;color:inherit;margin-right:16px;}.mui-tdg6lc:hover{background-color:var(--IconButton-hoverBg);}@media (hover: none){.mui-tdg6lc:hover{background-color:transparent;}}.mui-tdg6lc.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.mui-tdg6lc.MuiIconButton-loading{color:transparent;}.mui-1mm3lge{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;--IconButton-hoverBg:rgba(0, 0, 0, 0.04);margin-left:-12px;color:inherit;margin-right:16px;}.mui-1mm3lge::-moz-focus-inner{border-style:none;}.mui-1mm3lge.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-1mm3lge{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-1mm3lge:hover{background-color:var(--IconButton-hoverBg);}@media (hover: none){.mui-1mm3lge:hover{background-color:transparent;}}.mui-1mm3lge.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.mui-1mm3lge.MuiIconButton-loading{color:transparent;}.mui-1dya3jy{display:none;position:absolute;visibility:visible;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);color:rgba(0, 0, 0, 0.26);}.mui-q7mezt{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;fill:currentColor;font-size:1.5rem;}.mui-1myx5lw{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:1.25rem;line-height:1.6;letter-spacing:0.0075em;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:600px){.mui-1myx5lw{display:block;}}@media (min-width:0px){.mui-130f8nx{display:none;}}@media (min-width:600px){.mui-130f8nx{display:block;}}.mui-6n7j50{display:inline;}.mui-mcfrop{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 16px;border:0;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding:6px 8px;color:var(--variant-textColor);background-color:var(--variant-textBg);color:inherit;border-color:currentColor;--variant-containedBg:#e0e0e0;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;}.mui-mcfrop:hover{-webkit-text-decoration:none;text-decoration:none;}.mui-mcfrop.Mui-disabled{color:rgba(0, 0, 0, 0.26);}@media (hover: hover){.mui-mcfrop:hover{--variant-containedBg:#f5f5f5;--variant-textBg:rgba(0, 0, 0, 0.04);--variant-outlinedBg:rgba(0, 0, 0, 0.04);}}.mui-mcfrop.MuiButton-loading{color:transparent;}.mui-o34szc{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 16px;border:0;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding:6px 8px;color:var(--variant-textColor);background-color:var(--variant-textBg);color:inherit;border-color:currentColor;--variant-containedBg:#e0e0e0;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;}.mui-o34szc::-moz-focus-inner{border-style:none;}.mui-o34szc.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-o34szc{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-o34szc:hover{-webkit-text-decoration:none;text-decoration:none;}.mui-o34szc.Mui-disabled{color:rgba(0, 0, 0, 0.26);}@media (hover: hover){.mui-o34szc:hover{--variant-containedBg:#f5f5f5;--variant-textBg:rgba(0, 0, 0, 0.04);--variant-outlinedBg:rgba(0, 0, 0, 0.04);}}.mui-o34szc.MuiButton-loading{color:transparent;}.mui-1oz5b8u{z-index:1200;}@media (min-width:0px){.mui-1oz5b8u{display:block;}}@media (min-width:600px){.mui-1oz5b8u{display:none;}}.mui-1oz5b8u .MuiDrawer-paper{box-sizing:border-box;width:240px;color:#fff;background-color:#1976d2;}.mui-1gychr7{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;padding-left:16px;padding-right:16px;padding:1rem;word-wrap:break-word;}@media (min-width:600px){.mui-1gychr7{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.mui-1gychr7{max-width:1200px;}}.mui-kxijxt{list-style:none;margin:0;padding:0;position:relative;padding-top:8px;padding-bottom:8px;width:100%;border-radius:8px;border:1px solid;border-color:rgba(0, 0, 0, 0.12);padding:0.5rem;}.mui-wfm2y7{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;color:rgba(0, 0, 0, 0.6);}.mui-51eq8m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;margin:0;list-style:none;}.mui-1ttcndq{-webkit-text-decoration:none;text-decoration:none;color:inherit;}.mui-1ttcndq:hover{-webkit-text-decoration:underline;text-decoration:underline;}.mui-ub0mep{margin:0;font:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;-webkit-text-decoration:none;text-decoration:none;color:inherit;}.mui-ub0mep:hover{-webkit-text-decoration:underline;text-decoration:underline;}.mui-1nd5pgh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:8px;margin-right:8px;}.mui-ihsi0z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-text-decoration:none;text-decoration:none;width:100%;box-sizing:border-box;text-align:left;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;}.mui-14rdsw0{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;margin-top:4px;margin-bottom:4px;}.MuiTypography-root:where(.mui-14rdsw0 .MuiListItemText-primary){display:block;}.MuiTypography-root:where(.mui-14rdsw0 .MuiListItemText-secondary){display:block;}.mui-fyswvn{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style></head><body><header><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionStatic mui-w6pz14" style="--Paper-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular mui-awgou1"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeStart MuiIconButton-sizeMedium mui-1mm3lge" tabindex="0" type="button" id=":R1l5nb:" aria-label="open drawer"><span class="MuiIconButton-loadingIndicator mui-1dya3jy"></span><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="MenuIcon"><path d="M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"></path></svg></button><div class="MuiTypography-root MuiTypography-h6 mui-1myx5lw">CAE</div><div class="MuiBox-root mui-130f8nx"><div class="MuiBox-root mui-6n7j50"><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit mui-o34szc" tabindex="0" id=":R8rl5nb:" href="/cae-theory">Home</a></div><div class="MuiBox-root mui-6n7j50"><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit mui-o34szc" tabindex="0" id=":R9bl5nb:" href="/cae-theory/intro">Intro</a></div><div class="MuiBox-root mui-6n7j50"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit mui-o34szc" tabindex="0" type="button" id=":Rprl5nb:">Qualit√©</button></div><div class="MuiBox-root mui-6n7j50"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit mui-o34szc" tabindex="0" type="button" id=":Rqbl5nb:">It√©ration 2</button></div><div class="MuiBox-root mui-6n7j50"><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit MuiButton-root MuiButton-text MuiButton-textInherit MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorInherit mui-o34szc" tabindex="0" id=":Rarl5nb:" href="/cae-theory/about">About</a></div></div></div></header><nav></nav></header><div class="MuiContainer-root MuiContainer-maxWidthLg mui-1gychr7"><ul class="MuiList-root MuiList-padding mui-kxijxt"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="HighlightOffIcon"><path d="M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"></path></svg><nav class="MuiTypography-root MuiTypography-body1 MuiBreadcrumbs-root mui-wfm2y7" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol mui-51eq8m"><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="/cae-theory"> CAE </a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator mui-1nd5pgh">/</li><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="/cae-theory/iteration2"> It√©ration 2 </a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator mui-1nd5pgh">/</li><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#"> Gestion des images </a></li></ol></nav><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_gerer_des_assets"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment g√©rer des assets ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_fonctionne_un_service_de_stockage_dobjets"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment fonctionne un service de stockage d&#x27;objets ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_creer_un_service_de_stockage_sur_azure"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment cr√©er un service de stockage sur Azure ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_utiliser_le_service_de_stockage_via_l_api"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment utiliser le service de stockage via l&#x27;API ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_tester_une_operation_de_l_api_qui_attend_une_image"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment tester une op√©ration de l&#x27;API qui attend une image ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_faire_un_upload_dimages_via_le_frontend"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment faire un upload d&#x27;images via le frontend ? </span></div></a></div><div class="MuiListItem-root MuiListItem-gutters MuiListItem-padding mui-ihsi0z"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover mui-ub0mep" href="#comment_utiliser_le_service_de_stockage_dans_lenvironnement_de_staging"><div class="MuiListItemText-root mui-14rdsw0"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary mui-fyswvn"> Comment utiliser le service de stockage dans l&#x27;environnement de staging ? </span></div></a></div></ul>
<h1><a id="comment_gerer_des_assets"> Comment g√©rer des assets ? </a></h1>
<h2>Introduction</h2>
<p>Les assets sont des ressources statiques (images, vid√©os, fichiers de styles, etc.) qui sont utilis√©es dans une application.</p>
<p>Il existe diff√©rents moyens de mettre √† disposition ces ressources pour une application web. Voici les moyens les plus courants :</p>
<ul>
<li><strong>Importer les assets dans le code source du frontend</strong> : Les assets sont import√©s dans le code source de l&#x27;application. Cela peut √™tre fait en utilisant des imports dans le code source (ex: <code>import image from &#x27;./image.png&#x27;</code>) ou en fournissant un chemin relatif vers l&#x27;asset qui se trouve dans le r√©pertoire <strong><code>public</code></strong> (ex: <code>&lt;img src=&quot;/image.png&quot; /&gt;</code>).</li>
<li><strong>H√©berger les assets via un serveur de fichiers statiques associ√© √† l&#x27;API</strong> : Les assets sont stock√©s dans un serveur de fichiers statiques mis √† disposition par l&#x27;API. L&#x27;API fournit alors des URLs pour acc√©der aux assets.</li>
<li><strong>Offrir des op√©rations de l&#x27;API d√©di√©es √† la gestion des assets</strong> : L&#x27;API expose des op√©rations d√©di√©es √† la gestion des assets (ex: create, read, delete). Ces op√©rations permettent de stocker et de r√©cup√©rer les assets de mani√®re s√©curis√©e. L&#x27;API peut stocker les assets :<!-- -->
<ul>
<li>dans un syst√®me de fichiers ;</li>
<li>dans une base de donn√©es.</li>
</ul>
</li>
<li><strong>Utiliser un service tiers de gestion des assets</strong> : Un service tiers sp√©cialis√© dans la gestion des assets est utilis√© pour stocker et g√©rer les assets. Un exemple de service tiers est <strong>placid</strong>.</li>
<li><strong>H√©berger les assets dans un service de stockage d&#x27;objets</strong> : Les assets sont stock√©s dans un service de stockage d&#x27;objets (ex: AWS S3, Google Cloud Storage). L&#x27;API fournit alors des URLs pour acc√©der aux assets.</li>
</ul>
<p>Nous allons explorer ces diff√©rentes approches dans les sections suivantes.</p>
<h2>Importer les assets dans le code source du frontend</h2>
<p>L&#x27;import des assets dans le code source du frontend est une approche simple et courante pour g√©rer les images dans une application web.</p>
<p>Cela fonctionne lorsque nous avons un nombre limit√© d&#x27;images et que ces images ne changent pas fr√©quemment.</p>
<p>Bien entendu, cette approche ne fonctionne que pour des images pr√©d√©finies, utiles lorsque l&#x27;on souhaite afficher des images de logo, des ic√¥nes, des images de produits par d√©faut, etc.</p>
<p>Si l&#x27;on souhaite permettre aux utilisateurs d&#x27;ajouter des images, cette approche n&#x27;est pas adapt√©e.</p>
<p>Cette approche pourra √™tre utilis√©e dans le projet CAE pour les images de logo, les ic√¥nes, etc. Pour les fichiers dynamiques, nous utiliserons une autre approche.</p>
<h2>H√©berger les assets via un serveur de fichiers statiques associ√© √† l&#x27;API</h2>
<p>L&#x27;h√©bergement des assets via un serveur de fichiers statiques associ√© √† l&#x27;API est une approche courante pour stocker des assets dans une application web.</p>
<p>Dans cette approche, les assets sont stock√©es dans un r√©pertoire d√©di√© du serveur de fichiers statiques. L&#x27;API expose alors des URLs pour acc√©der aux assets.</p>
<p>Cette approche est principalement utile pour des assets qui sont statiques. Si l&#x27;on souhaite stocker des assets dynamiquement (ex: upload d&#x27;images par les utilisateurs), il va falloir cr√©er des op√©rations d√©di√©es (cas suivant) dans l&#x27;API pour g√©rer ces assets.</p>
<p>Les inconv√©nients de cette approche sont les suivants :</p>
<ul>
<li>Les assets sont stock√©es sur le m√™me serveur que l&#x27;API, ce qui peut entra√Æner une surcharge du serveur si le nombre d&#x27;assets est important.</li>
<li>Les URLs des assets sont directement accessibles, ce qui peut poser des probl√®mes de s√©curit√© (ex: acc√®s non autoris√© aux images).</li>
<li>Si l&#x27;on doit d&#x27;office <strong>Offrir des op√©rations de l&#x27;API d√©di√©es √† la gestion des assets</strong> (voir le cas suivant), alors autant jouer la carte de la s√©curit√© et ne pas utiliser d&#x27;URLs directes pour les assets.</li>
</ul>
<p>Nous n&#x27;allons donc pas utiliser cette approche dans notre projet CAE. N√©anmoins, si vous √™tes int√©ress√© par cette approche, vous pourrez tenter de le faire par vous m√™me pour l&#x27;environnement de d√©veloppement.</p>
<h2>Offrir des op√©rations de l&#x27;API d√©di√©es √† la gestion des assets</h2>
<p>Offrir des op√©rations de l&#x27;API d√©di√©es √† la gestion des assets est une approche plus s√©curis√©e pour stocker et g√©rer les assets dans une application web.</p>
<p>Dans cette approche, l&#x27;API expose des op√©rations d√©di√©es pour stocker, r√©cup√©rer et supprimer des assets. Les assets peuvent √™tre stock√©es dans un syst√®me de fichiers ou dans une base de donn√©es.</p>
<p>Cette approche est particuli√®rement utile lorsque l&#x27;on souhaite stocker des assets dynamiquement (ex: upload d&#x27;images par les utilisateurs).</p>
<p>G√©n√©ralement, on va stocker les assets dans un r√©pertoire d√©di√© du serveur de l&#x27;API. L&#x27;API va alors g√©rer les op√©rations de stockage, de r√©cup√©ration et de suppression des assets.
L&#x27;avantage de cette approche est que l&#x27;on peut contr√¥ler l&#x27;acc√®s aux assets et garantir leur s√©curit√©.</p>
<p>On utilise moins souvent une base de donn√©es pour stocker les assets, pour ces raisons :</p>
<ul>
<li>Les bases de donn√©es ne sont pas optimis√©es pour stocker des fichiers binaires (ex: images), les op√©rations de lecture et d&#x27;√©criture peuvent √™tre plus lentes.</li>
<li>Le stockage en DB co√ªte cher !</li>
<li>Un asset enregistr√© dans une base de donn√©es prend plus de place qu&#x27;un fichier stock√© sur le disque (passage en base64 et overhead pour la gestion des enregistrements, des index et des m√©tadonn√©es). Quel pourcentage ? Cela d√©pend de la taille des fichiers et de la base de donn√©es utilis√©e, mais on peut estimer cela √† environ 30-40%.</li>
<li>Les bases de donn√©es peuvent devenir rapidement surcharg√©es si l&#x27;on stocke des fichiers binaires.</li>
</ul>
<p>Les inconv√©nients de cette approche, d&#x27;offrir des op√©rations de l&#x27;API pour la gestion des assets, sont les suivants :</p>
<ul>
<li>La complexit√© de la gestion des op√©rations de stockage, de r√©cup√©ration et de suppression des assets. Il faut g√©rer les autorisations, les contr√¥les d&#x27;acc√®s, les quotas de stockage, etc.</li>
<li>La surcharge du serveur de l&#x27;API si le nombre d&#x27;assets est important.</li>
</ul>
<p>Nous n&#x27;allons donc pas utiliser cette approche dans notre projet CAE.</p>
<h2>Utiliser un service tiers de gestion des assets</h2>
<p>Utiliser un service tiers de gestion des assets est une approche int√©ressante pour stocker et g√©rer les assets dans une application web.</p>
<p>Un service tiers sp√©cialis√© dans la gestion des assets offre g√©n√©ralement des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des assets. Ces services sont souvent optimis√©s pour g√©rer des fichiers binaires (ex: images, vid√©os, fichiers audio...).</p>
<p>Un exemple de service tiers de gestion des assets est <strong>placid</strong>. Placid permet de stocker des images et de les manipuler (redimensionner, recadrer, compresser, etc.) via une API.</p>
<p>Les avantages de cette approche sont les suivants :</p>
<ul>
<li>Les services tiers de gestion des assets offrent des fonctionnalit√©s avanc√©es pour manipuler les assets (ex: redimensionner, recadrer, compresser).</li>
<li>Les services tiers de gestion des assets sont souvent optimis√©s pour g√©rer des fichiers binaires.</li>
<li>Les services tiers de gestion des assets offrent g√©n√©ralement des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d&#x27;acc√®s, chiffrement).</li>
</ul>
<p>Les inconv√©nients de cette approche sont les suivants :</p>
<ul>
<li>Les services tiers de gestion des assets peuvent √™tre co√ªteux.</li>
<li>Les services tiers de gestion des assets peuvent √™tre moins flexibles que des solutions auto-h√©berg√©es.</li>
<li>Il faut souvent utiliser un cl√© d&#x27;API pour acc√©der aux services tiers de gestion des assets, ce qui peut poser des probl√®mes de s√©curit√©. Il faut alors bien prot√©ger cette cl√© d&#x27;API et donc cr√©er ses propres op√©rations de l&#x27;API pour g√©rer les acc√®s √† ces services tiers. On retombe alors sur le cas pr√©c√©dent (<strong>Offrir des op√©rations de l&#x27;API d√©di√©es √† la gestion des assets</strong> !).</li>
</ul>
<p>Nous n&#x27;allons donc pas utiliser cette approche dans notre projet CAE.</p>
<h2>H√©berger les assets dans un service de stockage d&#x27;objets</h2>
<p>H√©berger les assets dans un service de stockage d&#x27;objets est une approche courante pour stocker des assets dans une application web.</p>
<p>Les services de stockage d&#x27;objets (ex: Azure Stockage, AWS S3, Google Cloud Storage) sont optimis√©s pour stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...). Ils offrent des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des assets. G√©n√©ralement, leur tarification est bas√©e sur l&#x27;utilisation (ex: quantit√© de donn√©es stock√©es, quantit√© de donn√©es transf√©r√©es) et sont donc tr√®s comp√©titifs.</p>
<p>De plus, les services de stockage d&#x27;objets offrent des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d&#x27;acc√®s, chiffrement).</p>
<p>Voici les gros avantages de cette approche :</p>
<ul>
<li>On peut d√©l√©guer la gestion des assets √† un service tiers sp√©cialis√©, ce qui permet de se concentrer sur le d√©veloppement de l&#x27;application.</li>
<li>Les services de stockage d&#x27;objets sont optimis√©s pour stocker des fichiers binaires et offrent des fonctionnalit√©s avanc√©es pour manipuler les assets.</li>
<li>Les services de stockage d&#x27;objets offrent des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d&#x27;acc√®s, chiffrement) qui ne demande pas de gros efforts au niveau de ses propres op√©rations de l&#x27;API. Il y a toujours des efforts √† faire lors de l&#x27;upload de fichiers, mais ils sont moindres. Nous allons les voir dans la section suivante.</li>
<li>Pour la lecture de fichiers, il est possible que le frontend acc√®de directement aux URLs des assets, sans passer par l&#x27;API, tout en assurant la s√©curit√© des fichiers. Cela peut √™tre un avantage en termes de performance.</li>
<li>Les services de stockage d&#x27;objets sont g√©n√©ralement tr√®s comp√©titifs en termes de tarification.</li>
</ul>
<p>Nous allons donc utiliser cette approche dans notre projet CAE.</p>
<h1><a id="comment_fonctionne_un_service_de_stockage_dobjets"> Comment fonctionne un service de stockage d&#x27;objets ? </a></h1>
<h2>Introduction</h2>
<p>Un service de stockage d&#x27;objets est un service cloud qui permet de stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...) de mani√®re s√©curis√©e et scalable.</p>
<p>Les services de stockage d&#x27;objets sont optimis√©s pour stocker de gros volumes de donn√©es non structur√©es. Ils offrent des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des objets.</p>
<p>Les services de stockage d&#x27;objets sont g√©n√©ralement bas√©s sur une architecture de stockage distribu√©e. Les donn√©es sont r√©pliqu√©es sur plusieurs serveurs pour garantir la disponibilit√© et la durabilit√© des donn√©es.</p>
<h2>Comment assurer la s√©curit√© des fichiers stock√©s ?</h2>
<p>Pour assurer la s√©curit√© des fichiers stock√©s dans un service de stockage d&#x27;objets, voici quelques bonnes pratiques √† suivre :</p>
<ul>
<li><strong>Chiffrement des donn√©es au repos</strong> (&quot;Encryption at Rest&quot;): Les donn√©es stock√©es dans le service de stockage d&#x27;objets doivent √™tre chiffr√©es pour garantir leur confidentialit√©. Les services de stockage d&#x27;objets offrent g√©n√©ralement des fonctionnalit√©s de chiffrement des donn√©es au repos. Par exemple, Azure Storage chiffre automatiquement les donn√©es au repos (chiffrement appliqu√© √† tous les objets stock√©s dans Azure Blob Storage, Azure Files, Azure Queue Storage et Azure Table Storage) √† l&#x27;aide de cl√©s de chiffrement g√©r√©es par le service.</li>
<li><strong>Contr√¥le d&#x27;acc√®s bas√© sur les r√¥les</strong> : Les acc√®s aux fichiers stock√©s dans le service de stockage d&#x27;objets doivent √™tre contr√¥l√©s en fonction des r√¥les des utilisateurs. Dans Azure Storage, on peut utiliser les <strong>SAS (Shared Access Signatures)</strong> pour d√©finir des autorisations granulaires sur les objets stock√©s.</li>
<li><strong>Journalisation des acc√®s</strong> : Les acc√®s aux fichiers stock√©s dans le service de stockage d&#x27;objets doivent √™tre journalis√©s pour permettre la tra√ßabilit√© des acc√®s. Les services de stockage d&#x27;objets offrent g√©n√©ralement des fonctionnalit√©s de journalisation des acc√®s.</li>
<li><strong>Gestion des cl√©s d&#x27;API</strong> : Les cl√©s d&#x27;API utilis√©es pour acc√©der au service de stockage d&#x27;objets doivent √™tre g√©r√©es de mani√®re s√©curis√©e. Azure Storage permet de g√©rer les cl√©s d&#x27;API √† l&#x27;aide de l&#x27;Azure Key Vault.</li>
</ul>
<h2>Comment g√©rer les op√©rations CRUD sur les fichiers ?</h2>
<p>Pour g√©rer les op√©rations CRUD (Create, Read, Update, Delete) sur les fichiers stock√©s dans un service de stockage d&#x27;objets, voici quelques bonnes pratiques √† suivre :</p>
<ul>
<li><strong>Utilisation d&#x27;une API RESTful</strong> : Les op√©rations CRUD sur les fichiers stock√©s dans le service de stockage d&#x27;objets doivent √™tre expos√©es via une API RESTful. Les services de stockage d&#x27;objets offrent g√©n√©ralement des SDK pour faciliter l&#x27;int√©gration avec l&#x27;API. Par exemple, Azure Storage propose des SDK pour diff√©rentes langages de programmation (C#, Java, Python, Node.js, etc.).
Il existe un <strong><code>BlobClientBuilder</code></strong> pour manipuler les blobs dans Azure Storage.</li>
<li><strong>Gestion des m√©tadonn√©es</strong> : Les fichiers stock√©s dans le service de stockage d&#x27;objets peuvent √™tre associ√©s √† des m√©tadonn√©es pour faciliter leur gestion. Les m√©tadonn√©es peuvent √™tre utilis√©es pour stocker des informations suppl√©mentaires sur les fichiers (ex: type de contenu, taille, date de cr√©ation, etc.).</li>
<li><strong>Gestion des autorisations</strong> : Les acc√®s aux fichiers stock√©s dans le service de stockage d&#x27;objets doivent √™tre contr√¥l√©s en fonction des autorisations des utilisateurs. Dans Azure Storage, on peut utiliser les <strong>SAS (Shared Access Signatures)</strong> pour d√©finir des autorisations granulaires sur les objets stock√©s. Une SAS est un jeton qui peut √™tre ajout√© √† une URL pour accorder un acc√®s temporaire et limit√© √† une ressource dans Azure Storage. La SAS sp√©cifie les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d&#x27;autres restrictions d&#x27;acc√®s.</li>
<li><strong>Gestion des versions</strong> : Les fichiers stock√©s dans le service de stockage d&#x27;objets peuvent √™tre versionn√©s pour permettre la gestion des versions des fichiers. Les services de stockage d&#x27;objets offrent g√©n√©ralement des fonctionnalit√©s de gestion des versions.
Azure Storage propose la gestion des versions pour les blobs.</li>
</ul>
<h2>Est-il possible de ne pas s√©curiser l&#x27;acc√®s aux fichiers ?</h2>
<p>Il est possible de ne pas s√©curiser l&#x27;acc√®s aux fichiers stock√©s dans un service de stockage d&#x27;objets, mais cela pose des risques en termes de s√©curit√©. Les fichiers stock√©s dans le service de stockage d&#x27;objets peuvent contenir des informations sensibles (ex: donn√©es personnelles, propri√©t√© intellectuelle, etc.) qui doivent √™tre prot√©g√©es.</p>
<p>Si √ßa n&#x27;est pas le cas, alors il est possible de ne pas s√©curiser l&#x27;acc√®s aux fichiers stock√©s dans le service de stockage d&#x27;objets. Cela peut √™tre utile pour des fichiers publics (ex: images, vid√©os, fichiers audio accessibles au public).</p>
<p>Attention que m√™me si l&#x27;on n&#x27;utilise pas des autorisations pour la lecture des fichiers, il est possible de trouver un compromis au niveau s√©curit√© de cette fa√ßon :</p>
<ul>
<li><strong>Cr√©ation de noms de fichiers complexes</strong> : Les noms de fichiers stock√©s dans le service de stockage d&#x27;objets peuvent √™tre rendus complexes pour limiter l&#x27;acc√®s non autoris√©. Par exemple, on peut utiliser des UUID (Universal Unique Identifier) comme noms de fichiers.</li>
<li><strong>Rendre l&#x27;acc√®s public en lecture seule et individuelle aux fichiers</strong> (et pas au niveau du conteneur) : Ainsi il n&#x27;est pas possible de lister les fichiers, mais on peut acc√©der √† un fichier seulement si on conna√Æt son URL.</li>
</ul>
<p>Avec ce compromis, on peut limiter l&#x27;acc√®s non autoris√© aux fichiers stock√©s dans le service de stockage d&#x27;objets tout en permettant un acc√®s public aux fichiers.</p>
<p>Nous allons utiliser ce compromis pour le projet CAE.</p>
<p>Attention que pour la cr√©ation et l&#x27;effacement de fichier, il est toujours n√©cessaire de s√©curiser l&#x27;acc√®s ! Sinon, n&#x27;importe qui pourrait cr√©er ou effacer des fichiers dans le service de stockage d&#x27;objets üò± !</p>
<p>Ainsi, nous utiliserons un SAS token pour les op√©ration de cr√©ation et d&#x27;effacement de fichiers.</p>
<h2>Comment autoriser l&#x27;acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage ?</h2>
<p>Pour autoriser l&#x27;acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage, on peut utiliser les <strong>SAS (Shared Access Signatures)</strong>.</p>
<p>Une SAS est un jeton qui peut √™tre ajout√© √† une URL pour accorder un acc√®s temporaire et limit√© √† une ressource dans Azure Storage. La SAS sp√©cifie les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d&#x27;autres restrictions d&#x27;acc√®s.</p>
<p>Voici le workflow que nous utiliserons pour autoriser l&#x27;acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage :</p>
<div>Loading...</div>
<p>Dans un premier temps, les d√©veloppeurs vont devoir g√©n√©rer une token (SAS) pour les fichiers stock√©s dans le service de stockage. Cette SAS va sp√©cifier les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d&#x27;autres restrictions d&#x27;acc√®s.</p>
<p>Puis, lorsque l&#x27;application est ex√©cut√©e, le frontend permettra via un formulaire de cr√©er des ressources incluant une image. Lors de la cr√©ation de la ressource, le frontend va envoyer une requ√™te √† l&#x27;API avec l&#x27;image √† stocker.
En utilisant le token (SAS), l&#x27;API va pouvoir stocker l&#x27;image dans le service de stockage d&#x27;objets.</p>
<p>Finalement, lorsque les utilisateurs consulteront une page affichant les ressources, le frontend va envoyer une requ√™te √† l&#x27;API pour r√©cup√©rer les ressources √† afficher. L&#x27;API va alors r√©cup√©rer les ressources stock√©es dans la DB, incluant l&#x27;URL vers l&#x27;image stock√©e dans le service de stockage d&#x27;objets. Le frontend va alors afficher les ressources, incluant les images stock√©es dans le service de stockage d&#x27;objets.
NB : si l&#x27;on avait souhait√© s√©curiser au maximum les images, on aurait pu passer par l&#x27;API pour qu&#x27;elle sauvegarde une SAS URL pour chaque image stock√©e dans le service de stockage d&#x27;objets. Cela aurait permis de contr√¥ler l&#x27;acc√®s lors de la lecture des images. Mais pour notre projet, nous avons choisi d&#x27;avoir un compromis au niveau s√©curit√©.</p>
<h1><a id="comment_creer_un_service_de_stockage_sur_azure"> Comment cr√©er un service de stockage sur Azure ? </a></h1>
<h2>Introduction</h2>
<p>Comme vous le savez d√©j√†, Azure Storage est un service cloud de stockage d&#x27;objets qui permet de stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...).</p>
<p>Nous allons √† pr√©sent voir comment appliquer le workflow que nous avons vu pr√©c√©demment pour sauvegarder des images dans Azure Storage au sein d&#x27;une application existante permettant de cr√©er et afficher des pizzas.</p>
<p>Le point de d√©part pour ce tutoriel est le site de gestion de la pizzeria comme vu au dernier tutoriel nomm√© <a href="https://github.com/e-vinci/cae-theory-demos/tree/main/staging">staging</a>. Veuillez donc en faire une copie au sein d&#x27;un projet GitLab.</p>
<h2>Cr√©ation d&#x27;un compte de stockage Azure (Storage account)</h2>
<p>Pour cr√©er un compte de stockage Azure, vous devez disposer d&#x27;un abonnement Azure depuis moins de 12 mois. Si vous √™tes √©tudiant, vous pouvez b√©n√©ficier d&#x27;un abonnement gratuit Azure for Students.</p>
<p>Veuillez suivre les √©tapes suivantes pour cr√©er un compte de stockage Azure :</p>
<ul>
<li>Connectez-vous √† votre <a href="https://portal.azure.com/">portail Azure</a>.</li>
<li>Dans la recherche, tapez <strong><code>Free services</code></strong>, puis cliquez sur <strong><code>Free services</code></strong>.</li>
<li>S√©lectionnez ensuite <strong><code>Azure Blob Storage</code></strong> (<code>5 GB locally redundant storage (LRS) hot block with 20,000 read and 10,000 write operations</code>), puis cliquez sur <strong><code>Create</code></strong>.</li>
<li>S√©lectionnez votre <strong><code>Subscription</code></strong> et <strong><code>Resource group</code></strong>. Pour les √©tudiants Vinci, cela devrait √™tre <strong><code>Azure for Students</code></strong>. Si vous n&#x27;avez pas de <strong><code>Resource group</code></strong>, vous pouvez en cr√©er un en cliquant sur <strong><code>Create new</code></strong> (<strong><code>imageGroup</code></strong> par exemple).</li>
<li>Entrez un <strong><code>Storage account name</code></strong> unique. Par exemple : <strong><code>imagestorage007</code></strong>.</li>
<li>S√©lectionnez la <strong><code>Region</code></strong> qui est acceptable dans un plan gratuit. Par exemple : <strong><code>West Europe</code></strong>.</li>
<li>Cliquez sur <strong><code>Review + create</code></strong>, puis sur <strong><code>Create</code></strong>.</li>
<li>Attendez que le d√©ploiement soit termin√©. Cela peut prendre quelques minutes. Puis cliquez sur <strong><code>Go to resource</code></strong>.</li>
</ul>
<h2>Cr√©ation de deux blobs containers</h2>
<h3>Introduction</h3>
<p>Un blob container est un conteneur de stockage d&#x27;objets dans Azure Storage. Il est utilis√© pour stocker des objets binaires (ex: images, vid√©os, fichiers audio...).</p>
<p>Nous souhaitions cr√©er deux blob containers pour stocker les images des pizzas :</p>
<ul>
<li>un container pour l&#x27;environnement de d√©veloppement (<strong><code>dev</code></strong>)</li>
<li>un container pour l&#x27;environnement de staging (<strong><code>staging</code></strong>)</li>
</ul>
<h3>Configuration du storage account</h3>
<p>Dans un premier temps, il faut s&#x27;assurer qu&#x27;on aie le droit d&#x27;acc√©der de mani√®re anonyme aux blobs. Cela permettra aux utilisateurs de l&#x27;application d&#x27;acc√©der aux images sans avoir besoin de s&#x27;authentifier.</p>
<p>Voici comment faire :</p>
<ul>
<li>Dans le portail Azure, cliquez sur <strong><code>Storage accounts</code></strong> dans le menu de gauche.</li>
<li>Cliquez sur le <strong><code>Storage account</code></strong> que vous avez cr√©√© pr√©c√©demment (<strong><code>imagestorage007</code></strong> par exemple).</li>
<li>Cliquez dans <strong><code>Settings</code></strong> sur <strong><code>Configuration</code></strong>.</li>
<li><strong><code>Allow Blob anonymous access</code></strong> doit √™tre √† <strong><code>Enabled</code></strong>.</li>
</ul>
<h3>Cr√©ation du blob container pour l&#x27;environnement de d√©veloppement</h3>
<p>Pour cr√©er un blob container pour l&#x27;environnement de d√©veloppement, veuillez suivre les √©tapes suivantes :</p>
<ul>
<li>Dans le portail Azure, cliquez sur <strong><code>Storage accounts</code></strong> dans le menu de gauche.</li>
<li>Cliquez sur le <strong><code>Storage account</code></strong> que vous avez cr√©√© pr√©c√©demment (<strong><code>imagestorage007</code></strong> par exemple).</li>
<li>Dans le menu de gauche, sous <strong><code>Data storage</code></strong>, cliquez sur <strong><code>Containers</code></strong>.</li>
<li>Cliquez sur <strong><code>+ Container</code></strong>.</li>
<li>Entrez un nom pour le container. Par exemple : <strong><code>dev</code></strong>.</li>
<li>Pour <strong><code>Anonymous access level</code></strong>, s√©lectionnez <strong><code>Blob (anonymous read access for blobs only)</code></strong>. Gr√¢ce √† cela, les blobs peuvent √™tre lus par n&#x27;importe qui, mais sans avoir le droit de lister les blobs.</li>
<li>Laissez les autres param√®tres par d√©faut.</li>
<li>Cliquez sur <strong><code>Create</code></strong>.</li>
</ul>
<h3>Cr√©ation du blob container pour l&#x27;environnement de staging</h3>
<p>Pour cr√©er un blob container pour l&#x27;environnement de staging, veuillez suivre les √©tapes suivantes :</p>
<ul>
<li>Dans le portail Azure, cliquez sur <strong><code>Storage accounts</code></strong> dans le menu de gauche.</li>
<li>Cliquez sur le <strong><code>Storage account</code></strong> que vous avez cr√©√© pr√©c√©demment (<strong><code>imagestorage007</code></strong> par exemple).</li>
<li>Dans le menu de gauche, sous <strong><code>Data storage</code></strong>, cliquez sur <strong><code>Containers</code></strong>.</li>
<li>Cliquez sur <strong><code>+ Container</code></strong>.</li>
<li>Entrez un nom pour le container. Par exemple : <strong><code>staging</code></strong>.</li>
<li>Laissez les autres param√®tres par d√©faut.</li>
<li>Cliquez sur <strong><code>Create</code></strong>.</li>
</ul>
<h3>S√©curisation des acc√®s via un SAS token</h3>
<p>Pour s√©curiser les acc√®s aux blobs, nous allons utiliser un SAS token.
Nous allons g√©n√©rer un SAS token pour tous les blobs de notre storage account. Ce SAS token doit permettre la cr√©ation et la suppression de blobs.</p>
<p>Voici comment faire :</p>
<ul>
<li>Dans le portail Azure, cliquez sur <strong><code>Storage accounts</code></strong> dans le menu de gauche.</li>
<li>Cliquez sur le <strong><code>Storage account</code></strong> que vous avez cr√©√© pr√©c√©demment (<strong><code>imagestorage007</code></strong> par exemple).</li>
<li>Dans le menu de gauche, sous <strong><code>Security + networking</code></strong>, cliquez sur <strong><code>Shared access signature</code></strong>.</li>
<li>Dans <strong><code>Allowed resources types</code></strong>, s√©lectionnez <strong><code>Object</code></strong>. Un <strong><code>Object</code></strong> fait r√©f√©rence √† une unit√© de donn√©es stock√©e dans Azure Storage, comme un blob.</li>
<li>Dans <strong><code>Allowed permissions</code></strong>, m√™me si c&#x27;est juste  <strong><code>Create</code></strong> et <strong><code>Delete</code></strong> que nous avons besoin, nous allons laisser toutes les permissions s√©lectionn√©es.</li>
<li>Pour le <strong><code>Start time</code></strong>, laissez la date actuelle.</li>
<li>Pour le <strong><code>End time</code></strong>, s√©lectionnez une date loin dans le futur. Par exemple, 10 ans plus tard.</li>
<li>Cliquez sur <strong><code>Generate SAS and connection string</code></strong>.</li>
<li>Veuillez conserver :<!-- -->
<ul>
<li>le <strong><code>SAS token</code></strong> g√©n√©r√©, comme par exemple <strong><code>sv=2024-11-02&amp;ss=bfqt&amp;srt=o&amp;sp=rwdlacaerpiytfx&amp;se=2035-02-24T23:52:15Z&amp;st=2025-02-24T15:52:15Z&amp;spr=https&amp;sig=OoOvYhdQZFxO79sqdfqsHXHgDw1cCvq%2FeSciIift10CTT54%3D</code></strong>.</li>
<li>le <strong><code>Blob endpoint</code></strong> g√©n√©r√©, comme par exemple : <strong><code>https://imagestorage007.blob.core.windows.net/</code></strong>.</li>
</ul>
</li>
</ul>
<h1><a id="comment_utiliser_le_service_de_stockage_via_l_api"> Comment utiliser le service de stockage via l&#x27;API ? </a></h1>
<h2>Introduction</h2>
<p>Maintenant que nous avons cr√©√© un service de stockage d&#x27;objets sur Azure, nous allons voir comment l&#x27;utiliser via l&#x27;API pour stocker et r√©cup√©rer des images.</p>
<p>Dans notre tutoriel, nous allons modifier le service de gestion des pizzas pour qu&#x27;il utilise le service de stockage d&#x27;objets pour stocker les images des pizzas :</p>
<ul>
<li>lors de la cr√©ation d&#x27;une pizza : l&#x27;image de la pizza sera stock√©e dans le service de stockage d&#x27;objets ;</li>
<li>lors de la r√©cup√©ration des pizzas : l&#x27;URL de l&#x27;image de la pizza sera r√©cup√©r√©e depuis la DB.</li>
<li>lors de la suppression d&#x27;une pizza : l&#x27;image de la pizza sera supprim√©e du service de stockage d&#x27;objets.</li>
</ul>
<h2>Configuration de l&#x27;API pour utiliser le service de stockage</h2>
<h3>Introduction</h3>
<p>L&#x27;API a besoin de conna√Ætre les informations suivantes pour utiliser le service de stockage d&#x27;objets :</p>
<ul>
<li>le <strong><code>Blob endpoint</code></strong> : l&#x27;URL de base du service de stockage d&#x27;objets (ex: <strong><code>https://imagestorage007.blob.core.windows.net/</code></strong>).</li>
<li>le <strong><code>SAS token</code></strong> : le token d&#x27;acc√®s partag√© pour acc√©der au service de stockage d&#x27;objets (ex: <strong><code>sv=2024-11-02&amp;ss=bfqt&amp;srt=o&amp;sp=rwdlacaerpiytfx&amp;se=2035-02-24T23:52:15Z&amp;st=2025-02-24T15:52:15Z&amp;spr=https&amp;sig=OoOvYhdQZFxO79sqdfqsHXHgDw1cCvq%2FeSciIift10CTT54%3D</code></strong>).</li>
<li>le <strong><code>Container name</code></strong> : le nom du blob container dans lequel les images seront stock√©es (ex: <strong><code>dev</code></strong>).</li>
</ul>
<h3>Configuration de l&#x27;API pour l&#x27;environnement de d√©veloppement</h3>
<p>Pour configurer l&#x27;API pour l&#x27;environnement de d√©veloppement, actuellement, nous utilisons <strong><code>application.properties</code></strong> pour stocker les configurations. Nous allons ajouter les configurations suivantes :</p>
<pre class="language-properties"><code class="language-properties code-highlight"><span class="code-line"><span class="token key attr-name">azure.blob.service-endpoint</span><span class="token punctuation">=</span><span class="token value attr-value">https://imagestorage007.blob.core.windows.net/</span>
</span><span class="code-line"><span class="token key attr-name">azure.blob.container-name</span><span class="token punctuation">=</span><span class="token value attr-value">dev</span>
</span><span class="code-line"><span class="token key attr-name">azure.blob.sas-token</span><span class="token punctuation">=</span><span class="token value attr-value">${AZURE_BLOB_SAS_TOKEN}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.max-file-size</span><span class="token punctuation">=</span><span class="token value attr-value">10MB</span>
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.max-request-size</span><span class="token punctuation">=</span><span class="token value attr-value">10MB</span>
</span></code></pre>
<p>Voici quelques explications sur ces configurations :</p>
<ul>
<li><strong><code>azure.blob.service-endpoint</code></strong> : l&#x27;URL de base du service de stockage d&#x27;objets (ex: <strong><code>https://imagestorage007.blob.core.windows.net/</code></strong>).</li>
<li><strong><code>azure.blob.container-name</code></strong> : le nom du blob container dans lequel les images seront stock√©es (ex: <strong><code>dev</code></strong>).</li>
<li><strong><code>azure.blob.sas-token</code></strong> : le token d&#x27;acc√®s partag√© pour acc√©der au service de stockage d&#x27;objets (ex: <strong><code>${AZURE_BLOB_SAS_TOKEN}</code></strong>). Nous allons stocker ce token dans une variable d&#x27;environnement car c&#x27;est un secret qui ne doit pas se trouver dans le code source.</li>
<li><strong><code>spring.servlet.multipart.enabled</code></strong> : active le support de l&#x27;upload de fichiers. <strong><code>multipart</code></strong> signifie que le contenu de la requ√™te est un formulaire multipart, c&#x27;est √† dire qu&#x27;il contient des donn√©es de plusieurs types (texte / json, fichier, etc.).</li>
<li><strong><code>spring.servlet.multipart.max-file-size</code></strong> : la taille maximale autoris√©e pour un fichier.</li>
<li><strong><code>spring.servlet.multipart.max-request-size</code></strong> : la taille maximale autoris√©e pour une requ√™te.</li>
</ul>
<p>Au sein du fichier <strong><code>/api/.env</code></strong>, nous allons ajouter la propri√©t√© <strong><code>AZURE_BLOB_SAS_TOKEN</code></strong> avec la valeur du SAS token que vous avez not√© pr√©c√©demment. Voici un exemple :</p>
<pre class="language-properties"><code class="language-properties code-highlight"><span class="code-line"><span class="token key attr-name">AZURE_BLOB_SAS_TOKEN</span><span class="token punctuation">=</span><span class="token value attr-value">sv=2024-11-02&amp;ss=bfqt&amp;srt=o&amp;sp=rwdlacaerpiytfx&amp;se=2035-02-24T23:52:15Z&amp;st=2025-02-24T15:52:15Z&amp;spr=https&amp;sig=OoOvYhdQZFxO79sqhhqsHXHgDw1cbvq%2FeSciIift10XRT74%3D</span>
</span></code></pre>
<p>Pour rappel, lorsque nous utiliserons IntelliJ pour lancer l&#x27;API, comme nous avons install√© la d√©pendance <strong><code>spring-dotenv</code></strong>, les variables d&#x27;environnement stock√©es dans le fichier <strong><code>/api/.env</code></strong> seront automatiquement charg√©es.</p>
<h2>Cr√©ation d&#x27;une op√©ration pour stocker une image dans le service de stockage</h2>
<h3>Introduction</h3>
<p>Nous allons maintenant mettre √† jour l&#x27;API pour ajouter une op√©ration permettant de stocker une image dans le service de stockage d&#x27;objets lors de la cr√©ation d&#x27;une pizza.</p>
<p>Actuellement, voici √† quoi ressemble l&#x27;op√©ration de cr√©ation d&#x27;une pizza (dans le fichier <strong><code>controllers/PizzaController.java</code></strong>) :</p>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line">  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">&quot;hasRole(&#x27;ROLE_ADMIN&#x27;)&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">addPizza</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">NewPizza</span> newPizza<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>newPizza <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> pizzaService<span class="token punctuation">.</span><span class="token function">createPizza</span><span class="token punctuation">(</span>newPizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span></code></pre>
<p>Ici l&#x27;op√©ration de cr√©ation d&#x27;une pizza prend en param√®tre un objet <strong><code>NewPizza</code></strong> qui contient le titre et le contenu de la pizza. Nous allons maintenant ajouter un champ <strong><code>image</code></strong> √† l&#x27;objet <strong><code>NewPizza</code></strong> pour stocker l&#x27;image de la pizza.</p>
<h3>Modification du controller</h3>
<p>Voici les modifications √† faire :</p>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line">  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">&quot;hasRole(&#x27;ROLE_ADMIN&#x27;)&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line highlight-line">  <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">addPizza</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">&quot;newPizza&quot;</span><span class="token punctuation">)</span> <span class="token class-name">NewPizza</span> newPizza<span class="token punctuation">,</span>
</span><span class="code-line highlight-line">      <span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">&quot;image&quot;</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>newPizza <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token operator">||</span> newPizza<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line highlight-line">    <span class="token keyword">return</span> pizzaService<span class="token punctuation">.</span><span class="token function">createPizza</span><span class="token punctuation">(</span>newPizza<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span></code></pre>
<p>Voici les explications sur ces modifications :</p>
<ul>
<li><strong><code>@RequestPart(&quot;newPizza&quot;)</code></strong> : permet de r√©cup√©rer l&#x27;objet <strong><code>NewPizza</code></strong> envoy√© dans le corps de la requ√™te. Le type MIME de la requ√™te doit √™tre <strong><code>multipart/form-data</code></strong>. Ce type de requ√™te est utilis√© pour envoyer des donn√©es de plusieurs types (texte / json, fichier, etc.).</li>
<li><strong><code>@RequestPart(&quot;image&quot;)</code></strong> : permet de r√©cup√©rer le fichier nomm√© <strong><code>image</code></strong> envoy√© dans le corps de la requ√™te.</li>
<li><strong><code>MultipartFile</code></strong> : est une classe fournie par Spring pour repr√©senter un fichier envoy√© dans une requ√™te multipart. Elle contient des m√©thodes pour acc√©der aux donn√©es du fichier (ex: nom, type MIME, contenu).</li>
<li><strong><code>pizzaService.createPizza(newPizza, image)</code></strong> : appelle la m√©thode <strong><code>createPizza</code></strong> du service de gestion des pizzas en passant l&#x27;objet <strong><code>NewPizza</code></strong> et le fichier image en param√®tres. Nous allons prochainement modifier cette m√©thode.</li>
</ul>
<h3>Installation de la d√©pendance Azure Blob Storage</h3>
<p>Pour utiliser le service de stockage d&#x27;objets Azure Blob Storage, nous allons ajouter la d√©pendance <strong><code>azure-storage-blob</code></strong> √† notre projet. Dans <strong><code>/api/pom.xml</code></strong>, ajoutez la d√©pendance suivante :</p>
<pre class="language-xml"><code class="language-xml code-highlight"><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.azure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>azure-storage-blob<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span> 12.27.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</span></code></pre>
<h3>Modification de l&#x27;entit√© Pizza</h3>
<p>Nous allons ajouter un champ <strong><code>imageLocation</code></strong> √† l&#x27;entit√© <strong><code>Pizza</code></strong> pour stocker l&#x27;URL de l&#x27;image de la pizza. Voici les modifications √† faire dans l&#x27;entit√© <strong><code>Pizza</code></strong> (dans le fichier <strong><code>models/entities/Pizza.java</code></strong>) :</p>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line">  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token annotation punctuation">@Id</span>
</span><span class="code-line">  <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line highlight-line">  <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line highlight-line">  <span class="token keyword">private</span> <span class="token class-name">String</span> imageLocation<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h3>Modification du service de gestion des pizzas</h3>
<p>Voici les modifications √† faire dans le service de gestion des pizzas (dans le fichier <strong><code>services/PizzaService.java</code></strong>) pour mettre √† jour la m√©thode <strong><code>createPizza</code></strong> (n&#x27;oubliez pas d&#x27;importer les classes n√©cessaires) :</p>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line line-number" line="1"><span class="token annotation punctuation">@Service</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaService</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">PizzaRepository</span> pizzaRepository<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="5">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> blobServiceEndpoint<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="6">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> sasToken<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="7">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> containerName<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">  <span class="token comment">//...</span>
</span><span class="code-line line-number" line="10">  <span class="token keyword">public</span> <span class="token class-name">PizzaService</span><span class="token punctuation">(</span><span class="token class-name">PizzaRepository</span> pizzaRepository<span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="11">      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${azure.blob.service-endpoint}&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> blobServiceEndpoint<span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="12">      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${azure.blob.sas-token}&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> sasToken<span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="13">      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${azure.blob.container-name}&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> containerName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token keyword">this</span><span class="token punctuation">.</span>pizzaRepository <span class="token operator">=</span> pizzaRepository<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="15">    <span class="token keyword">this</span><span class="token punctuation">.</span>blobServiceEndpoint <span class="token operator">=</span> blobServiceEndpoint<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="16">    <span class="token keyword">this</span><span class="token punctuation">.</span>sasToken <span class="token operator">=</span> sasToken<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="17">    <span class="token keyword">this</span><span class="token punctuation">.</span>containerName <span class="token operator">=</span> containerName<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">  <span class="token comment">//...</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22">  <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">NewPizza</span> newPizza<span class="token punctuation">,</span> <span class="token class-name">MultipartFile</span> image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">      <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24">      pizza<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span>newPizza<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">      pizza<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>newPizza<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number highlight-line" line="27">      <span class="token keyword">if</span> <span class="token punctuation">(</span>image <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>image<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="28">        <span class="token class-name">String</span> blobUrl <span class="token operator">=</span> <span class="token function">uploadImageToBlob</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="29">        pizza<span class="token punctuation">.</span><span class="token function">setImageLocation</span><span class="token punctuation">(</span>blobUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="30">      <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32">      <span class="token keyword">return</span> pizzaRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="33">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number highlight-line" line="35">    <span class="token doc-comment comment">/**
</span></span><span class="code-line line-number highlight-line" line="36"><span class="token doc-comment comment">     * Upload an image to a blob on Azure storage with a generated UUID as filename.
</span></span><span class="code-line line-number highlight-line" line="37"><span class="token doc-comment comment">     * The image is uploaded to the &quot;images&quot; folder.
</span></span><span class="code-line line-number highlight-line" line="38"><span class="token doc-comment comment">     * The original filename is stored in the metadata.
</span></span><span class="code-line line-number highlight-line" line="39"><span class="token doc-comment comment">     * <span class="token keyword">@param</span> <span class="token parameter">image</span>
</span></span><span class="code-line line-number highlight-line" line="40"><span class="token doc-comment comment">     * <span class="token keyword">@return</span> the blob url
</span></span><span class="code-line line-number highlight-line" line="41"><span class="token doc-comment comment">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
</span></span><span class="code-line line-number highlight-line" line="42"><span class="token doc-comment comment">     */</span>
</span><span class="code-line line-number highlight-line" line="43">    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">uploadImageToBlob</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="44">    <span class="token class-name">String</span> imageUUID <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="45">    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> metadata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="46">
</span><span class="code-line line-number highlight-line" line="47">    <span class="token class-name">String</span> blobName <span class="token operator">=</span> imageUUID<span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="48">
</span><span class="code-line line-number highlight-line" line="49">    metadata<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;originalFileName&quot;</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="50">    <span class="token class-name">BlobClientBuilder</span> blobClientBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlobClientBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="51">        <span class="token punctuation">.</span><span class="token function">endpoint</span><span class="token punctuation">(</span>blobServiceEndpoint<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="52">        <span class="token punctuation">.</span><span class="token function">sasToken</span><span class="token punctuation">(</span>sasToken<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="53">        <span class="token punctuation">.</span><span class="token function">containerName</span><span class="token punctuation">(</span>containerName<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="54">        <span class="token punctuation">.</span><span class="token function">blobName</span><span class="token punctuation">(</span>blobName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="55">
</span><span class="code-line line-number highlight-line" line="56">    <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="57">      blobClientBuilder<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="58">      blobClientBuilder<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMetadata</span><span class="token punctuation">(</span>metadata<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="59">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="60">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="61">    <span class="token punctuation">}</span>
</span><span class="code-line line-number highlight-line" line="62">    blobClientBuilder<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="63">        <span class="token punctuation">.</span><span class="token function">setHttpHeaders</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BlobHttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="64">
</span><span class="code-line line-number highlight-line" line="65">    <span class="token keyword">return</span> blobClientBuilder<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBlobUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="66">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="67">  <span class="token comment">//....</span>
</span></code></pre>
<p>Voici les explications sur ces modifications :</p>
<ul>
<li>
<p><strong><code>@Value(&quot;${azure.blob.service-endpoint}&quot;) String blobServiceEndpoint</code></strong> : injecte la valeur de la propri√©t√© <strong><code>azure.blob.service-endpoint</code></strong> dans le champ <strong><code>blobServiceEndpoint</code></strong>. Cette propri√©t√© provient du fichier <strong><code>application.properties</code></strong>, le fichier de configuration de l&#x27;API en mode d√©veloppement.</p>
</li>
<li>
<p><strong><code>@Value(&quot;${azure.blob.sas-token}&quot;) String sasToken</code></strong> : injecte la valeur de la propri√©t√© <strong><code>azure.blob.sas-token</code></strong> dans le champ <strong><code>sasToken</code></strong>. Cette propri√©t√© provient du fichier <strong><code>application.properties</code></strong>, le fichier de configuration de l&#x27;API en mode d√©veloppement.</p>
</li>
<li>
<p><strong><code>@Value(&quot;${azure.blob.container-name}&quot;) String containerName</code></strong> : injecte la valeur de la propri√©t√© <strong><code>azure.blob.container-name</code></strong> dans le champ <strong><code>containerName</code></strong>. Cette propri√©t√© provient aussi du fichier <strong><code>application.properties</code></strong>.</p>
</li>
<li>
<p><strong><code>uploadImageToBlob</code></strong> : est une m√©thode priv√©e qui permet de stocker une image dans le service de stockage d&#x27;objets. Elle prend en param√®tre un objet <strong><code>MultipartFile</code></strong> qui repr√©sente le fichier image √† stocker. Elle retourne l&#x27;URL du blob dans lequel l&#x27;image a √©t√© stock√©e. Cette m√©thode utilise la biblioth√®que <strong><code>azure-storage-blob</code></strong> pour interagir avec le service de stockage d&#x27;objets Azure Blob Storage :</p>
<ul>
<li><strong><code>UUID.randomUUID().toString()</code></strong> : g√©n√®re un UUID (Universal Unique Identifier) pour le nom du blob. Cela permet de garantir que le nom du blob est unique. De plus, cela permet de cacher le nom du fichier original, permettant de s√©curiser l&#x27;acc√®s aux fichiers stock√©s. Seulement un utilisateur ayant l&#x27;URL du blob pourra acc√©der √† l&#x27;image. Il est difficile pour des utilisateurs malveillants de deviner l&#x27;URL du blob.</li>
<li><strong><code>Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;()</code></strong> : cr√©e une map pour stocker les m√©tadonn√©es du blob. Ici, nous stockons le nom du fichier original dans les m√©tadonn√©es. Cela permet de conserver le nom du fichier original pour une utilisation ult√©rieure.</li>
<li><strong><code>BlobClientBuilder blobClientBuilder = new BlobClientBuilder()</code></strong> : cr√©e un <strong><code>BlobClientBuilder</code></strong> pour interagir avec le service de stockage d&#x27;objets Azure Blob Storage. Le <strong><code>BlobClientBuilder</code></strong> permet de cr√©er, lire, mettre √† jour et supprimer des blobs.</li>
<li><strong><code>blobClientBuilder.buildClient().upload(image.getInputStream(), image.getSize(), true)</code></strong> : stocke le fichier image dans le blob. Nous utilisons la m√©thode <strong><code>upload</code></strong> pour stocker le contenu du fichier image dans le blob. Nous passons le flux d&#x27;entr√©e du fichier image, la taille du fichier image et <strong><code>true</code></strong> pour indiquer que le fichier doit √™tre √©cras√© s&#x27;il existe d√©j√†.</li>
<li><strong><code>blobClientBuilder.buildClient().setMetadata(metadata)</code></strong> : d√©finit les m√©tadonn√©es du blob. Ici, nous stockons le nom du fichier original dans les m√©tadonn√©es.</li>
<li><strong><code>blobClientBuilder.buildClient().setHttpHeaders(new BlobHttpHeaders().setContentType(image.getContentType()))</code></strong> : d√©finit les en-t√™tes HTTP du blob. Ici, nous d√©finissons le type MIME du blob en fonction du type MIME du fichier image.</li>
<li><strong><code>blobClientBuilder.buildClient().getBlobUrl()</code></strong> : retourne l&#x27;URL du blob. Cette URL peut √™tre utilis√©e pour acc√©der au contenu du blob. C&#x27;est cette URL que nous stockons dans le champ <strong><code>imageLocation</code></strong> de l&#x27;entit√© <strong><code>Pizza</code></strong>, afin de la sauvegarder dans la DB.</li>
</ul>
<p>Pour ce tutorial, nous allons aussi nous occuper de mettre √† jour la m√©thode permettant d&#x27;effacer une pizza. Nous ne traiterons pas de l&#x27;update d&#x27;une pizza pour ce tutorial.</p>
</li>
</ul>
<h3>Effacer une image dans le service de stockage</h3>
<p>Nous allons maintenant mettre √† jour l&#x27;API pour ajouter une op√©ration permettant d&#x27;effacer l&#x27;image d&#x27;une pizza dans le service de stockage d&#x27;objets lors de la suppression d&#x27;une pizza.</p>
<p>Veuillez modifier le service de gestion des pizzas (dans le fichier <strong><code>services/PizzaService.java</code></strong>) :</p>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">deletePizza</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> pizzaRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">if</span> <span class="token punctuation">(</span>pizza <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="4">      <span class="token keyword">if</span> <span class="token punctuation">(</span>pizza<span class="token punctuation">.</span><span class="token function">getImageLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="5">        <span class="token function">deleteImageFromBlob</span><span class="token punctuation">(</span>pizza<span class="token punctuation">.</span><span class="token function">getImageLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="6">      <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">      pizzaRepository<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number highlight-line" line="12">  <span class="token doc-comment comment">/**
</span></span><span class="code-line line-number highlight-line" line="13"><span class="token doc-comment comment">   * Delete an image from the blob storage.
</span></span><span class="code-line line-number highlight-line" line="14"><span class="token doc-comment comment">   *
</span></span><span class="code-line line-number highlight-line" line="15"><span class="token doc-comment comment">   * <span class="token keyword">@param</span> <span class="token parameter">imageLocation</span> the image location
</span></span><span class="code-line line-number highlight-line" line="16"><span class="token doc-comment comment">   */</span>
</span><span class="code-line line-number highlight-line" line="17">  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">deleteImageFromBlob</span><span class="token punctuation">(</span><span class="token class-name">String</span> imageLocation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="18">    <span class="token keyword">if</span> <span class="token punctuation">(</span>imageLocation <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>imageLocation<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> imageLocation<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>
</span><span class="code-line line-number highlight-line" line="19">        blobServiceEndpoint<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="20">      <span class="token class-name">String</span> blobName <span class="token operator">=</span> imageLocation<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>imageLocation<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="21">      <span class="token class-name">BlobClientBuilder</span> blobClientBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlobClientBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="22">          <span class="token punctuation">.</span><span class="token function">endpoint</span><span class="token punctuation">(</span>blobServiceEndpoint<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="23">          <span class="token punctuation">.</span><span class="token function">sasToken</span><span class="token punctuation">(</span>sasToken<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="24">          <span class="token punctuation">.</span><span class="token function">containerName</span><span class="token punctuation">(</span>containerName<span class="token punctuation">)</span>
</span><span class="code-line line-number highlight-line" line="25">          <span class="token punctuation">.</span><span class="token function">blobName</span><span class="token punctuation">(</span>blobName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="26">
</span><span class="code-line line-number highlight-line" line="27">      blobClientBuilder<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="28">    <span class="token punctuation">}</span>
</span><span class="code-line line-number highlight-line" line="29">  <span class="token punctuation">}</span>
</span></code></pre>
<p>La nouvelle m√©thode <strong><code>deleteImageFromBlob</code></strong> permet de supprimer une image du service de stockage d&#x27;objets. Elle prend en param√®tre l&#x27;URL de l&#x27;image √† supprimer. Voici les explications sur cette m√©thode :</p>
<ul>
<li><strong><code>blobName</code></strong> : extrait le nom du blob √† partir de l&#x27;URL de l&#x27;image. L&#x27;URL de l&#x27;image est de la forme <strong><code>https://imagestorage007.blob.core.windows.net/dev/imageUUID</code></strong>. Nous extrayons le nom du blob <strong><code>imageUUID</code></strong> √† partir de l&#x27;URL.</li>
<li><strong><code>BlobClientBuilder blobClientBuilder = new BlobClientBuilder()</code></strong> : cr√©e un <strong><code>BlobClientBuilder</code></strong> pour interagir avec le service de stockage d&#x27;objets Azure Blob Storage.</li>
<li><strong><code>blobClientBuilder.buildClient().delete()</code></strong> : supprime le blob.</li>
</ul>
<h1><a id="comment_tester_une_operation_de_l_api_qui_attend_une_image"> Comment tester une op√©ration de l&#x27;API qui attend une image ? </a></h1>
<h2>Introduction</h2>
<p>Maintenant que nous avons mis √† jour l&#x27;API pour stocker et r√©cup√©rer des images dans le service de stockage d&#x27;objets, nous allons voir comment tester une op√©ration de l&#x27;API qui attend une image.</p>
<p>Nous allons utiliser IntelliJ HTTP Client pour tester l&#x27;op√©ration de cr√©ation d&#x27;une pizza qui attend une image.</p>
<h2>Cr√©ation d&#x27;une pizza avec une image</h2>
<p>Veuillez ajouter cette image dans <strong><code>/api/src/test</code></strong> :
<!-- -->Loading...</p>
<p>Pour tester l&#x27;op√©ration de cr√©ation d&#x27;une pizza avec une image, veuillez ajouter cette requ√™te dans votre fichier <strong><code>/api/src/test/pizzas.http</code></strong>  :</p>
<pre class="language-http"><code class="language-http code-highlight"><span class="code-line">#### Create a pizza with the admin token and an image
</span><span class="code-line">#### Create a pizza with the admin token
</span><span class="code-line">POST {{baseUrl}}/pizzas
</span><span class="code-line"><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">multipart/form-data; boundary=boundary</span></span>
</span><span class="code-line"><span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">{{adminToken}}</span></span>
</span><span class="code-line">
</span><span class="code-line">--boundary
</span><span class="code-line"><span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name=&quot;newPizza&quot;</span></span>
</span><span class="code-line"><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</span><span class="code-line"><span class="token application-json">
</span></span><span class="code-line"><span class="token application-json"><span class="token punctuation">{</span>
</span></span><span class="code-line"><span class="token application-json">  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;Magic Green&quot;</span><span class="token punctuation">,</span>
</span></span><span class="code-line"><span class="token application-json">  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;Epinards, Brocolis, Olives vertes, Basilic&quot;</span>
</span></span><span class="code-line"><span class="token application-json"><span class="token punctuation">}</span>
</span></span><span class="code-line"><span class="token application-json">--boundary
</span></span><span class="code-line"><span class="token application-json">Content-Disposition<span class="token operator">:</span> form-data; name=<span class="token string">&quot;image&quot;</span>; filename=<span class="token string">&quot;pizza.png&quot;</span>
</span></span><span class="code-line"><span class="token application-json">Content-Type<span class="token operator">:</span> image/png
</span></span><span class="code-line"><span class="token application-json">
</span></span><span class="code-line"><span class="token application-json"><span class="token comment">// The &#x27;pizza.png&#x27; file will be uploaded</span>
</span></span><span class="code-line"><span class="token application-json">&lt; ./pizza.png
</span></span><span class="code-line"><span class="token application-json">
</span></span><span class="code-line"><span class="token application-json">--boundary
</span></span></code></pre>
<p>Quelques explications sur cette requ√™te :</p>
<ul>
<li><strong><code>boundary</code></strong> : est une cha√Æne de caract√®res qui d√©limite les parties du formulaire multipart. Chaque partie du formulaire multipart commence par <strong><code>--boundary</code></strong> et se termine par <strong><code>--boundary</code></strong>.</li>
<li><strong><code>Content-Disposition: form-data; name=&quot;newPizza&quot;</code></strong> : indique que la partie du formulaire multipart contient l&#x27;objet <strong><code>NewPizza</code></strong>. Le type MIME de la partie est <strong><code>application/json</code></strong>.</li>
<li><strong><code>Content-Disposition: form-data; name=&quot;image&quot;; filename=&quot;pizza.png&quot;</code></strong> : indique que la partie du formulaire multipart contient le fichier image. Le nom du fichier est <strong><code>pizza.png</code></strong>. Le type MIME de la partie est <strong><code>image/png</code></strong>.</li>
<li><strong><code>&lt; ./pizza.png</code></strong> : indique que le contenu du fichier <strong><code>pizza.png</code></strong> doit √™tre envoy√© dans la partie du formulaire multipart.</li>
</ul>
<p>Veuillez vous assurer que votre API est bien lanc√©e dans IntelliJ. Puis, ex√©cutez la requ√™te en cliquant sur <strong><code>Send Request</code></strong> (N&#x27;oubliez pas d&#x27;ex√©cuter la requ√™te de login de l&#x27;admin auparavant, et du register de l&#x27;admin encore auparavant si n√©cessaire via <strong><code>auths.http</code></strong>). Vous devriez recevoir une r√©ponse avec le statut <strong><code>200 OK</code></strong> et le corps de la r√©ponse devrait contenir les informations de la pizza cr√©√©e.</p>
<h2>R√©cup√©ration de l&#x27;URL de l&#x27;image de la pizza</h2>
<p>Pour r√©cup√©re l&#x27;URL d&#x27;une pizza, il suffit de r√©cup√©rer une pizza via l&#x27;API.</p>
<p>N&#x27;h√©sitez pas √† faire la requ√™te permettant de lire toutes les pizzas pour r√©cup√©rer l&#x27;URL de l&#x27;image de la pizza que vous venez de cr√©er.</p>
<h2>Effacement d&#x27;une pizza avec une image</h2>
<p>Pour tester l&#x27;op√©ration de suppression d&#x27;une pizza avec une image, il vous suffit de faire une requ√™te de suppression d&#x27;une pizza via l&#x27;API.</p>
<p>N&#x27;h√©sitez pas √† faire la requ√™te permettant de supprimer la pizza que vous venez de cr√©er.
Et n&#x27;oubliez pas de v√©rifier que l&#x27;image a bien √©t√© effac√©e du service de stockage d&#x27;objets.</p>
<h2>Conclusion sur la gestion des images avec Azure Stockage</h2>
<p>Dans ce tutoriel, nous avons vu comment utiliser le service de stockage d&#x27;objets Azure Blob Storage pour stocker et r√©cup√©rer des images dans une application Spring Boot. Nous avons vu comment configurer le service de stockage d&#x27;objets Azure Blob Storage, comment stocker des images dans le service de stockage d&#x27;objets Azure Blob Storage lors de la cr√©ation d&#x27;une pizza, comment r√©cup√©rer des images stock√©es dans le service de stockage d&#x27;objets Azure Blob Storage lors de la r√©cup√©ration des pizzas, et comment effacer des images stock√©es dans le service de stockage d&#x27;objets Azure Blob Storage lors de la suppression d&#x27;une pizza.</p>
<p>Nous avons √©galement vu comment tester une op√©ration de l&#x27;API qui attend une image en utilisant IntelliJ HTTP Client.</p>
<p>Nous allons maintenant voir comment mettre √† jour le frontend pour faire un formulaire permettant de cr√©er une pizza avec une image, et comment afficher les images des pizzas dans l&#x27;application frontend.</p>
<h1><a id="comment_faire_un_upload_dimages_via_le_frontend"> Comment faire un upload d&#x27;images via le frontend </a></h1>
<h2>Introduction</h2>
<p>Nous souhaitons mettre √† jour le frontend pour permettre aux utilisateurs de cr√©er des pizzas avec des images. Pour cela, nous allons ajouter un formulaire qui permettra de s√©lectionner une image lors de la cr√©ation d&#x27;une pizza.</p>
<h2>Mise √† jour du formulaire de cr√©ation de pizza</h2>
<p>Veuillez mettre √† jour le formulaire de cr√©ation de pizza pour permettre de s√©lectionner une image. Pour ce faire, veuillez modifier <strong><code>/frontend/src/components/pages/AddPizzaPage.tsx</code></strong> :</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useState<span class="token punctuation">,</span> <span class="token maybe-class-name">SyntheticEvent</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useNavigate<span class="token punctuation">,</span> useOutletContext <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;react-router-dom&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">PizzeriaContext</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="5"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Box</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span> <span class="token maybe-class-name">TextField</span><span class="token punctuation">,</span> useTheme <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@mui/material&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token keyword">const</span> <span class="token function-variable function">AddPizza</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> <span class="token punctuation">{</span> addPizza <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">PizzeriaContext</span> <span class="token operator">=</span> <span class="token function">useOutletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">  <span class="token keyword">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token keyword">const</span> <span class="token punctuation">[</span>pizza<span class="token punctuation">,</span> setPizza<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token keyword">const</span> <span class="token punctuation">[</span>description<span class="token punctuation">,</span> setDescription<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="14">  <span class="token keyword">const</span> <span class="token punctuation">[</span>image<span class="token punctuation">,</span> setImage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>File <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">SyntheticEvent</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="18">    <span class="token function">addPizza</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> pizza<span class="token punctuation">,</span> content<span class="token operator">:</span> description<span class="token punctuation">,</span> image <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">    <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22">  <span class="token keyword">const</span> <span class="token function-variable function">handlePizzaChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">SyntheticEvent</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">    <span class="token keyword">const</span> pizzaInput <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span> <span class="token keyword">as</span> <span class="token maybe-class-name">HTMLInputElement</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;change in pizzaInput:&#x27;</span><span class="token punctuation">,</span> pizzaInput<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">    <span class="token function">setPizza</span><span class="token punctuation">(</span>pizzaInput<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="26">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28">  <span class="token keyword">const</span> <span class="token function-variable function">handleDescriptionChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">SyntheticEvent</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="29">    <span class="token keyword">const</span> descriptionInput <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span> <span class="token keyword">as</span> <span class="token maybe-class-name">HTMLInputElement</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="30">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;change in descriptionInput:&#x27;</span><span class="token punctuation">,</span> descriptionInput<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="31">    <span class="token function">setDescription</span><span class="token punctuation">(</span>descriptionInput<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="32">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number highlight-line" line="34">  <span class="token keyword">const</span> <span class="token function-variable function">handleImageChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="35">    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">files</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">files</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="36">      <span class="token function">setImage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">files</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="37">    <span class="token punctuation">}</span>
</span><span class="code-line line-number highlight-line" line="38">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="41">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span>
</span></span><span class="code-line line-number" line="42"><span class="token tag">      <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
</span></span></span><span class="code-line line-number" line="43"><span class="token tag"><span class="token script language-javascript">        margin<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="44"><span class="token tag"><span class="token script language-javascript">        padding<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="45"><span class="token tag"><span class="token script language-javascript">        backgroundColor<span class="token operator">:</span> <span class="token string">&#x27;secondary.light&#x27;</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="46"><span class="token tag"><span class="token script language-javascript">        borderRadius<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="47"><span class="token tag"><span class="token script language-javascript">        boxShadow<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="48"><span class="token tag"><span class="token script language-javascript">      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="49"><span class="token tag">    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="50"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="51"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginBottom<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="52"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextField</span></span>
</span></span><span class="code-line line-number" line="53"><span class="token tag">            <span class="token attr-name">fullWidth</span>
</span></span><span class="code-line line-number" line="54"><span class="token tag">            <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pizza<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="55"><span class="token tag">            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pizza<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="56"><span class="token tag">            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Pizza<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="57"><span class="token tag">            <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outlined<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="58"><span class="token tag">            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>pizza<span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="59"><span class="token tag">            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handlePizzaChange<span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="60"><span class="token tag">            <span class="token attr-name">required</span>
</span></span><span class="code-line line-number" line="61"><span class="token tag">            <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="62"><span class="token tag">            <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
</span></span></span><span class="code-line line-number" line="63"><span class="token tag"><span class="token script language-javascript">              input<span class="token operator">:</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> theme<span class="token punctuation">.</span><span class="token property-access">palette</span><span class="token punctuation">.</span><span class="token property-access">secondary</span><span class="token punctuation">.</span><span class="token property-access">contrastText</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="64"><span class="token tag"><span class="token script language-javascript">            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="65"><span class="token tag">          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="66"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="67"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginBottom<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="68"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextField</span></span>
</span></span><span class="code-line line-number" line="69"><span class="token tag">            <span class="token attr-name">fullWidth</span>
</span></span><span class="code-line line-number" line="70"><span class="token tag">            <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="71"><span class="token tag">            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="72"><span class="token tag">            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Description<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="73"><span class="token tag">            <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outlined<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="74"><span class="token tag">            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="75"><span class="token tag">            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleDescriptionChange<span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="76"><span class="token tag">            <span class="token attr-name">required</span>
</span></span><span class="code-line line-number" line="77"><span class="token tag">            <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number" line="78"><span class="token tag">            <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
</span></span></span><span class="code-line line-number" line="79"><span class="token tag"><span class="token script language-javascript">              input<span class="token operator">:</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> theme<span class="token punctuation">.</span><span class="token property-access">palette</span><span class="token punctuation">.</span><span class="token property-access">secondary</span><span class="token punctuation">.</span><span class="token property-access">contrastText</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line line-number" line="80"><span class="token tag"><span class="token script language-javascript">            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number" line="81"><span class="token tag">          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="82"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="83"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginBottom<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="84"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextField</span></span>
</span></span><span class="code-line line-number highlight-line" line="85"><span class="token tag">            <span class="token attr-name">fullWidth</span>
</span></span><span class="code-line line-number highlight-line" line="86"><span class="token tag">            <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="87"><span class="token tag">            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="88"><span class="token tag">            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="89"><span class="token tag">            <span class="token attr-name">slotProps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> htmlInput<span class="token operator">:</span> <span class="token punctuation">{</span> accept<span class="token operator">:</span> <span class="token string">&#x27;image/*&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number highlight-line" line="90"><span class="token tag">            <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outlined<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="91"><span class="token tag">            <span class="token attr-name">required</span>
</span></span><span class="code-line line-number highlight-line" line="92"><span class="token tag">            <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="93"><span class="token tag">            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleImageChange<span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number highlight-line" line="94"><span class="token tag">          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="95"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="96"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="97"><span class="token plain-text">          Ajouter
</span></span><span class="code-line line-number" line="98"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="99"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="100"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line line-number" line="101">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="102"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="103">
</span><span class="code-line line-number" line="104"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">AddPizza</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Voici les explications sur ces modifications :</p>
<ul>
<li><strong><code>const [image, setImage] = useState&lt;File | undefined&gt;(undefined)</code></strong> : cr√©e un √©tat pour stocker l&#x27;image s√©lectionn√©e par l&#x27;utilisateur. L&#x27;√©tat initial est <strong>`undefined</strong>.</li>
<li><strong><code>const handleImageChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; { ... }</code></strong> : est une fonction qui est appel√©e lorsque l&#x27;utilisateur s√©lectionne une image. Elle r√©cup√®re le fichier image s√©lectionn√© par l&#x27;utilisateur et le stocke dans l&#x27;√©tat <strong><code>image</code></strong>.</li>
<li><strong><code>&lt;TextField ... type=&quot;file&quot; slotProps={{ htmlInput: { accept: &#x27;image/*&#x27; } }} ... /&gt;</code></strong> : cr√©e un champ de formulaire pour s√©lectionner une image. Le type du champ est <strong><code>file</code></strong>. L&#x27;attribut <strong><code>accept</code></strong> est utilis√© pour restreindre les types de fichiers qui peuvent √™tre s√©lectionn√©s. Ici, nous restreignons les types de fichiers √† ceux de type image.</li>
<li><strong><code>&lt;TextField ... onChange={handleImageChange} ... /&gt;</code></strong> : appelle la fonction <strong><code>handleImageChange</code></strong> lorsque l&#x27;utilisateur s√©lectionne une image.</li>
</ul>
<p>Il faut aussi mettre √† jour la d√©finition du type <strong><code>Pizza</code></strong> dans <strong><code>/frontend/src/types.ts</code></strong> :</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line highlight-line">  image<span class="token operator">?</span><span class="token operator">:</span> File <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</span><span class="code-line highlight-line">  imageLocation<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>Nous devons maintenant mettre √† jour la fonction <strong><code>addPizza</code></strong> qui est d√©finie dans le composant <strong><code>App</code></strong>.</p>
<p>Pour ce faire, veuillez mettre √† jour <strong><code>addPizza</code></strong> dans le fichier <strong><code>/frontend/src/App/index.tsx</code></strong> :</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"> <span class="token keyword">const</span> <span class="token function-variable function">addPizza</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>newPizza<span class="token operator">:</span> <span class="token maybe-class-name">NewPizza</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authenticatedUser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;You must be authenticated to add a pizza&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">      <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number highlight-line" line="7">      <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="8">
</span><span class="code-line line-number highlight-line" line="9">      <span class="token keyword">const</span> pizzaToBeAdded <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>newPizza<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="10">      <span class="token keyword">delete</span> pizzaToBeAdded<span class="token punctuation">.</span><span class="token property-access">image</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="11">
</span><span class="code-line line-number highlight-line" line="12">      <span class="token keyword">if</span> <span class="token punctuation">(</span>newPizza<span class="token punctuation">.</span><span class="token property-access">image</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="13">        formData<span class="token punctuation">.</span><span class="token method function property-access">append</span><span class="token punctuation">(</span><span class="token string">&#x27;image&#x27;</span><span class="token punctuation">,</span> newPizza<span class="token punctuation">.</span><span class="token property-access">image</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="14">      <span class="token punctuation">}</span>
</span><span class="code-line line-number highlight-line" line="15">
</span><span class="code-line line-number highlight-line" line="16">      formData<span class="token punctuation">.</span><span class="token method function property-access">append</span><span class="token punctuation">(</span>
</span><span class="code-line line-number highlight-line" line="17">        <span class="token string">&#x27;newPizza&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="18">        <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>pizzaToBeAdded<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="19">          type<span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="20">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="21">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number highlight-line" line="22">
</span><span class="code-line line-number highlight-line" line="23">      <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="24">        method<span class="token operator">:</span> <span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="25">        body<span class="token operator">:</span> formData<span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="26">        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number highlight-line" line="27">          <span class="token maybe-class-name">Authorization</span><span class="token operator">:</span> authenticatedUser<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="28">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number highlight-line" line="29">      <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31">      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/pizzas</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fetch retourne une &quot;promise&quot; =&gt; on attend la r√©ponse</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span><span class="token property-access">ok</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="34">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="35">          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">fetch error : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="36">        <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38">      <span class="token keyword">const</span> createdPizza <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// json() retourne une &quot;promise&quot; =&gt; on attend les donn√©es</span>
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40">      <span class="token function">setPizzas</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token spread operator">...</span>pizzas<span class="token punctuation">,</span> createdPizza<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="41">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="42">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&#x27;AddPizza::error: &#x27;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="43">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="44">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Voici les explications sur ces modifications :</p>
<ul>
<li><strong><code>const formData = new FormData()</code></strong> : cr√©e un objet <strong><code>FormData</code></strong> pour stocker les donn√©es du formulaire multipart.</li>
<li><strong><code>const pizzaToBeAdded = JSON.parse(JSON.stringify(newPizza))</code></strong> : cr√©e une copie de l&#x27;objet <strong><code>newPizza</code></strong>. Nous supprimons le champ <strong><code>image</code></strong> de l&#x27;objet <strong><code>pizzaToBeAdded</code></strong> car nous l&#x27;ajoutons s√©par√©ment dans le formulaire multipart.</li>
<li><strong><code>if (newPizza.image) { formData.append(&#x27;image&#x27;, newPizza.image); }</code></strong> : ajoute le fichier image √† l&#x27;objet <strong><code>formData</code></strong>. Le champ <strong><code>image</code></strong> est ajout√© au formulaire multipart.</li>
<li><strong><code>formData.append(&#x27;newPizza&#x27;, new Blob([JSON.stringify(pizzaToBeAdded)], { type: &#x27;application/json&#x27; }),)</code></strong> : ajoute l&#x27;objet <strong><code>pizzaToBeAdded</code></strong> au formulaire multipart. L&#x27;objet <strong><code>pizzaToBeAdded</code></strong> est converti en cha√Æne JSON, puis en un objet <strong><code>Blob</code></strong>. Le champ <strong><code>newPizza</code></strong> est ajout√© au formulaire multipart. Pourquoi ajouter l&#x27;objet <strong><code>newPizza</code></strong> en tant que <strong><code>Blob</code></strong> ? Parce que le contenu du formulaire multipart doit √™tre un objet <strong><code>Blob</code></strong>.</li>
<li><strong><code>const options = { method: &#x27;POST&#x27;, body: formData, headers: { Authorization: authenticatedUser.token, }, };</code></strong> : cr√©e un objet <strong><code>options</code></strong> pour la requ√™te <strong><code>fetch</code></strong>. La m√©thode de la requ√™te est <strong><code>POST</code></strong>. Le corps de la requ√™te est l&#x27;objet <strong><code>formData</code></strong>. L&#x27;en-t√™te de la requ√™te contient le token d&#x27;authentification de l&#x27;utilisateur.</li>
</ul>
<h2>Mise √† jour de l&#x27;affichage des pizzas</h2>
<p>Veuillez mettre √† jour le menu des pizzas. Pour ce faire, veuillez modifier <strong><code>/frontend/src/components/PizzaMenu/index.tsx</code></strong> :</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span>
</span></span><span class="code-line line-number" line="2"><span class="token imports">  <span class="token maybe-class-name">Table</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="3"><span class="token imports">  <span class="token maybe-class-name">TableBody</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="4"><span class="token imports">  <span class="token maybe-class-name">TableCell</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="5"><span class="token imports">  <span class="token maybe-class-name">TableContainer</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="6"><span class="token imports">  <span class="token maybe-class-name">TableHead</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="7"><span class="token imports">  <span class="token maybe-class-name">TableRow</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="8"><span class="token imports">  <span class="token maybe-class-name">Paper</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="9"><span class="token imports">  useTheme<span class="token punctuation">,</span>
</span></span><span class="code-line line-number highlight-line" line="10"><span class="token imports">  <span class="token maybe-class-name">Box</span><span class="token punctuation">,</span>
</span></span><span class="code-line line-number" line="11"><span class="token imports"><span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@mui/material&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Pizza</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token keyword">interface</span> <span class="token class-name">PizzaMenuProps</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">  pizzas<span class="token operator">:</span> <span class="token maybe-class-name">Pizza</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="18"><span class="token keyword">const</span> <span class="token function-variable function">PizzaMenu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> pizzas <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">PizzaMenuProps</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="21">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableContainer</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">Paper</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="22"><span class="token plain-text">      &lt;Table
</span></span><span class="code-line line-number" line="23"><span class="token plain-text">        sx=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="24">          minWidth<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="25">          <span class="token string-property property">&#x27;&amp; .MuiTableCell-head&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="26">            backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span><span class="token property-access">palette</span><span class="token punctuation">.</span><span class="token property-access">primary</span><span class="token punctuation">.</span><span class="token property-access">dark</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="27">            color<span class="token operator">:</span> theme<span class="token punctuation">.</span><span class="token property-access">palette</span><span class="token punctuation">.</span><span class="token property-access">primary</span><span class="token punctuation">.</span><span class="token property-access">contrastText</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="28">            fontWeight<span class="token operator">:</span> <span class="token string">&#x27;bold&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="29">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="30">          <span class="token string-property property">&#x27;&amp; .MuiTableCell-body&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="31">            backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span><span class="token property-access">palette</span><span class="token punctuation">.</span><span class="token property-access">primary</span><span class="token punctuation">.</span><span class="token property-access">light</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="32">            color<span class="token operator">:</span> <span class="token string">&#x27;white&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="33">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="34">          <span class="token string-property property">&#x27;&amp; .MuiTableCell-root&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="35">            border<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1px solid </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>theme<span class="token punctuation">.</span>palette<span class="token punctuation">.</span>secondary<span class="token punctuation">.</span>main<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="36">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="37">        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line line-number" line="38"><span class="token plain-text">      &gt;
</span></span><span class="code-line line-number" line="39"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableHead</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="40"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableRow</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="41"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Pizza</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="42"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Description</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="43"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Image</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="44"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableRow</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="45"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableHead</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="46"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableBody</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="47"><span class="token plain-text">          </span><span class="token punctuation">{</span>pizzas<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="48">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableRow</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>pizza<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="49"><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>pizza<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="50"><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>pizza<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="51"><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="52"><span class="token plain-text">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span>
</span></span><span class="code-line line-number highlight-line" line="53"><span class="token tag">                  <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line line-number highlight-line" line="54"><span class="token tag">                  <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>pizza<span class="token punctuation">.</span><span class="token property-access">imageLocation</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number highlight-line" line="55"><span class="token tag">                  <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>pizza<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number highlight-line" line="56"><span class="token tag">                  <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">&#x27;100px&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line line-number highlight-line" line="57"><span class="token tag">                <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="58"><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="59"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableRow</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line line-number" line="60">          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line line-number" line="61"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableBody</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="62"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Table</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="63"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableContainer</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line line-number" line="64">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="65"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="66">
</span><span class="code-line line-number" line="67"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">PizzaMenu</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Ici, nous avons ajout√© une colonne <strong><code>Image</code></strong> √† la table des pizzas. Pour chaque pizza, nous affichons l&#x27;image de la pizza.</p>
<p>L&#x27;URL de l&#x27;image de la pizza est stock√©e dans le champ <strong><code>imageLocation</code></strong> de l&#x27;objet <strong><code>Pizza</code></strong>.</p>
<p>Veuillez bien ex√©cutez votre application frontend pour voir les changements.
Tout devrait √™tre fonctionnel et votre application devrait permettre de cr√©er des pizzas avec des images et d&#x27;afficher les images des pizzas.</p>
<p>Ainsi, lors de la cr√©ation d&#x27;une pizza, l&#x27;utilisateur peut s√©lectionner une image pour la pizza. L&#x27;image est stock√©e dans le service de stockage d&#x27;objets Azure Blob Storage. L&#x27;URL de l&#x27;image est stock√©e dans la DB. Lors de l&#x27;affichage des pizzas, l&#x27;image de chaque pizza est affich√©e.
Pour l&#x27;affichage, c&#x27;est le browser, via une balise <strong><code>&lt;img&gt;</code></strong>, qui va chercher l&#x27;image stock√©e dans le service de stockage d&#x27;objets Azure Blob Storage.</p>
<h1><a id="comment_utiliser_le_service_de_stockage_dans_lenvironnement_de_staging"> Comment utiliser le service de stockage dans l&#x27;environnement de staging ? </a></h1>
<h2>Introduction</h2>
<p>Dans ce tutoriel, nous allons voir comment configurer le service de stockage d&#x27;objets Azure Blob Storage pour l&#x27;environnement de staging.</p>
<h2>Configuration de l&#x27;API pour l&#x27;environnement de staging</h2>
<p>Pour configurer l&#x27;API pour l&#x27;environnement de staging, nous allons ajouter les configurations suivantes dans le fichier <strong><code>/api/src/main/resources/application-staging.properties</code></strong> :</p>
<pre class="language-properties"><code class="language-properties code-highlight"><span class="code-line"><span class="token key attr-name">azure.blob.service-endpoint</span><span class="token punctuation">=</span><span class="token value attr-value">https://imagestorage007.blob.core.windows.net/</span>
</span><span class="code-line"><span class="token key attr-name">azure.blob.sas-token</span><span class="token punctuation">=</span><span class="token value attr-value">${AZURE_BLOB_SAS_TOKEN}</span>
</span><span class="code-line"><span class="token key attr-name">azure.blob.container-name</span><span class="token punctuation">=</span><span class="token value attr-value">staging</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.max-file-size</span><span class="token punctuation">=</span><span class="token value attr-value">10MB</span>
</span><span class="code-line"><span class="token key attr-name">spring.servlet.multipart.max-request-size</span><span class="token punctuation">=</span><span class="token value attr-value">10MB</span>
</span></code></pre>
<p>Nous avons choisi de stocker les images des pizzas dans un blob container nomm√© <strong><code>staging</code></strong> que nous avons cr√©√© pr√©c√©demment.</p>
<p>Il est de bonne pratique d&#x27;utiliser des containers diff√©rents pour chaque environnement (dev, staging, prod) pour isoler les donn√©es et √©viter les conflits.</p>
<h2>Configuration des variables d&#x27;environnement</h2>
<p>Pour passer le token d&#x27;acc√®s partag√© pour le service de stockage d&#x27;objets Azure Blob Storage, nous pouvons ajouter la propri√©t√© <strong><code>AZURE_BLOB_SAS_TOKEN</code></strong> dans le fichier <strong><code>/docker-compose.staging.yml</code></strong> et dans le fichier <strong><code>/docker-compose.deploy.yml</code></strong> :</p>
<pre class="language-properties"><code class="language-properties code-highlight"><span class="code-line"><span class="token key attr-name">    environment</span><span class="token punctuation">:</span>
</span><span class="code-line"><span class="token key attr-name">      -</span> <span class="token value attr-value">SPRING_DATASOURCE_URL=${SPRING_DATASOURCE_URL}</span>
</span><span class="code-line"><span class="token key attr-name">      -</span> <span class="token value attr-value">SPRING_DATASOURCE_USERNAME=${SPRING_DATASOURCE_USERNAME}</span>
</span><span class="code-line"><span class="token key attr-name">      -</span> <span class="token value attr-value">SPRING_DATASOURCE_PASSWORD=${SPRING_DATASOURCE_PASSWORD}</span>
</span><span class="code-line highlight-line"><span class="token key attr-name">      -</span> <span class="token value attr-value">AZURE_BLOB_SAS_TOKEN=${AZURE_BLOB_SAS_TOKEN}</span>
</span></code></pre>
<p>Est-ce que c&#x27;est n√©cessaire de mettre cette variable d&#x27;environnement dans le fichier de configuration de docker compose qui sera ex√©cut√© sur Azure Web app ? Non, ce qui compte, c&#x27;est de configurer les variables d&#x27;environnement dans le portail Azure.<br/>
<!-- -->N√©anmoins, il est int√©ressant de les mettre dans le fichier de configuration pour ces raisons :</p>
<ul>
<li>pour pouvoir tester en local.</li>
<li>pour avoir une trace de toutes les configurations n√©cessaires pour le d√©ploiement.</li>
</ul>
<h2>Configuration des variables d&#x27;environnement dans le portail Azure</h2>
<p>Pour configurer les variables d&#x27;environnement dans le portail Azure, veuillez suivre les √©tapes suivantes.</p>
<p>Au niveau de votre Azure Web App (<strong><code>cae-groupxy-staging-app</code></strong> par exemple) via le portail Azure, veuillez :</p>
<ul>
<li>Cliquer sur <strong><code>Settings</code></strong>.</li>
<li>Cliquer sur <strong><code>Environment variables</code></strong>.</li>
<li>Ajouter la variable d&#x27;environnement suivante en cliquant sur <strong><code>Add</code></strong> :<!-- -->
<ul>
<li><strong><code>AZURE_BLOB_SAS_TOKEN</code></strong> (<strong><code>Name</code></strong>): une valeur de token qui correspond √† ce que vous avez g√©n√©r√© pr√©c√©demment, comme par exemple <strong><code>sv=2022-11-02&amp;ss=bfqt&amp;srt=o&amp;sp=rwdlacupiytfx&amp;se=2035-02-24T23:52:15Z&amp;st=2025-02-24T15:52:15Z&amp;spr=https&amp;sig=OoOAYhdQZGxO74hSUHKHgDw1Bvq%2FeSciIift10CMM34%3D</code></strong> (<strong><code>Value</code></strong>). Cliquez sur <strong><code>Apply</code></strong>.</li>
<li>N&#x27;oubliez pas de cliquer sur <strong><code>Apply</code></strong> pour sauvegarder l&#x27;ajout de la variable, puis <strong><code>Confirm</code></strong>.</li>
</ul>
</li>
</ul>
<h2>Comment lancer un environnement local avec les configurations de staging ?</h2>
<p>Pour lancer un environnement local avec les configurations de staging, nous allons utiliser le fichier <strong><code>/docker-compose.staging.yml</code></strong>.</p>
<p>Pour ce faire, veuillez ex√©cuter la commande suivante :</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> compose <span class="token parameter variable">-f</span> docker-compose.staging.yml --env-file api/.env up <span class="token parameter variable">--build</span>
</span></code></pre>
<p>Puis, il suffit de lancer un browser et de se rendre sur <a href="http://localhost">http://localhost</a> pour acc√©der √† l&#x27;application frontend.</p>
<h2>Comment lancer un environnement de staging sur Azure Web App ?</h2>
<p>Pour d√©ployer l&#x27;application sur Azure Web App, il suffit de pousser les modifications sur votre projet GitLab. Le pipeline GitLab se chargera de d√©ployer l&#x27;application sur Azure Web App.</p>
<p>Pour v√©rifier que l&#x27;application a bien √©t√© d√©ploy√©e, veuillez vous rendre sur le portail Azure, puis sur votre Azure Web App (<strong><code>cae-groupxy-staging-app</code></strong> par exemple).</p>
<p>Vous devriez voir l&#x27;application frontend en vous rendant sur l&#x27;URL de l&#x27;application Azure Web App, par exemple : <strong><code>https://cae-groupxy-staging-app.azurewebsites.net</code></strong>.</p>
<p>Si n√©cessaire, vous pouvez trouver le code associ√© √† la gestion des images ici : <a href="https://github.com/e-vinci/cae-theory-demos/tree/main/images">images</a>.</p>
<h2>Conclusion sur la gestion des images avec Azure Stockage pour l&#x27;environnement de d√©veloppement</h2>
<p>Nous avons maintenant un nouvel environnement de d√©veloppement local que nous pouvons visualiser ainsi :</p>
<div>Loading...</div>
<p>Pas tous les √©l√©ments de notre environnement de d√©veloppement sont locaux. En effet, nous avons un service de stockage d&#x27;objets Azure Blob Storage qui est utilis√© pour stocker les images des pizzas. Cela nous permet de tester le stockage des images dans un environnement similaire √† celui de production.</p>
<p>üç¨ Si vous pr√©f√©riez, pour votre environnement de d√©veloppement uniquement, vous pourriez utiliser un serveur de fichiers statiques pour stocker les images. Cela vous permettrait de ne pas d√©pendre d&#x27;un service de stockage d&#x27;objets externe. Vous pourriez stocker les images dans un dossier local de votre API Spring. Nous ne verrons pas cela dans le cadre de ce cours, donc n&#x27;h√©sitez pas √† explorer par vous-m√™me.</p>
<h2>Conclusion sur la gestion des images avec Azure Stockage pour l&#x27;environnement de staging</h2>
<p>Nous avons maintenant un nouvel environnement de staging que nous pouvons visualiser ainsi :</p>
<div>Loading...</div>
<p>Nous avons configur√© l&#x27;API pour stocker les images des pizzas dans un blob container nomm√© <strong><code>staging</code></strong> dans le service de stockage d&#x27;objets Azure Blob Storage.</p>
<p>Tout devrait √™tre fonctionnel et votre application devrait permettre de cr√©er des pizzas avec des images et d&#x27;afficher les images des pizzas dans l&#x27;environnement de staging.</p>
<p>Prochainement, nous allons voir comment faire un d√©ploiement en production.</p></div><div></div><script src="/cae-theory/_next/static/chunks/webpack-0335b56ac768253e.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[909,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"245\",\"static/chunks/245-30e455921c0f8f22.js\",\"177\",\"static/chunks/app/layout-a6c5d823159daef4.js\"],\"default\"]\n3:I[7468,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"245\",\"static/chunks/245-30e455921c0f8f22.js\",\"177\",\"static/chunks/app/layout-a6c5d823159daef4.js\"],\"ClientThemeProvider\"]\n4:I[1886,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"245\",\"static/chunks/245-30e455921c0f8f22.js\",\"177\",\"static/chunks/app/layout-a6c5d823159daef4.js\"],\"default\"]\n5:I[8412,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"245\",\"static/chunks/245-30e455921c0f8f22.js\",\"177\",\"static/chunks/app/layout-a6c5d823159daef4.js\"],\"default\"]\n6:I[5244,[],\"\"]\n7:I[3866,[],\"\"]\n8:I[3620,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"245\",\"static/chunks/245-30e455921c0f8f22.js\",\"177\",\"static/chunks/app/layout-a6c5d823159daef4.js\"],\"default\"]\na:I[6213,[],\"OutletBoundary\"]\nc:I[6213,[],\"MetadataBoundary\"]\ne:I[6213,[],\"ViewportBoundary\"]\n10:I[4835,[],\"\"]\n:HL[\"/cae-theory/_next/static/css/fd89b796fb218fbf.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"A92IwWAQn47aM2P2a7xIH\",\"p\":\"/cae-theory\",\"c\":[\"\",\"iteration2\",\"images\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"slug\",\"iteration2/images\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/cae-theory/_next/static/css/fd89b796fb218fbf.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"children\":[\"$\",\"html\",null,{\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"title\",null,{\"children\":\"CAE Course\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/svg+xml\",\"href\":\"/cae-theory/favicon.svg\"}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"$L4\",null,{\"siteMetaData\":{\"version\":\"\",\"title\":\"CAE\",\"description\":\"siteDescription\",\"url\":\"siteURL\",\"youtubeUrl\":\"youtubeUrl\",\"authorEmail\":\"authorEmail\",\"facebookUrl\":\"facebookUrl\",\"instagramUrl\":\"instagramUrl\",\"menuLinks\":[{\"name\":\"Home\",\"link\":\"/\"},{\"name\":\"Intro\",\"link\":\"/intro\"},{\"name\":\"Qualit√©\",\"link\":\"\",\"subMenu\":[{\"name\":\"Qualit√© g√©n√©rale\",\"link\":\"/quality/general\"},{\"name\":\"Qualit√© du frontend\",\"link\":\"/quality/frontend\"},{\"name\":\"Qualit√© de l'API\",\"link\":\"/quality/api\"},{\"name\":\"Int√©gration Continue\",\"link\":\"/quality/ci\"},{\"name\":\"Tests e2e\",\"link\":\"/quality/e2e\"}]},{\"name\":\"It√©ration 2\",\"link\":\"\",\"subMenu\":[{\"name\":\"Gestion des environnements\",\"link\":\"/iteration2/general\"},{\"name\":\"Conteneurisation\",\"link\":\"/iteration2/containerization\"},{\"name\":\"D√©ploiement\",\"link\":\"/iteration2/deployment\"},{\"name\":\"Gestion des images\",\"link\":\"/iteration2/images\"}]},{\"name\":\"About\",\"link\":\"/about\"}]}}]}],[\"$\",\"$L5\",null,{\"sx\":{\"padding\":\"1rem\",\"wordWrap\":\"break-word\"},\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L8\",null,{}]]}]]}]}]}]]}],{\"children\":[[\"slug\",\"iteration2/images\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$0:f:0:1:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L9\",null,[\"$\",\"$La\",null,{\"children\":\"$Lb\"}]]}],{},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"JkMYxfAyi9eIZq5doXJ_s\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:I[3508,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n12:I[283,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n13:I[6656,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n14:I[8173,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"\"]\n15:I[4754,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n16:I[2738,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n17:I[4036,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n18:I[9574,[\"144\",\"static/chunks/144-6ef9499ac178c5dc.js\",\"830\",\"static/chunks/830-d07b37352b41f989.js\",\"340\",\"static/chunks/app/%5B%5B...slug%5D%5D/page-e6ba2748711f75c3.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"$L11\",null,{\"children\":[[\"$\",\"$L12\",null,{\"aria-label\":\"breadcrumb\",\"children\":[[\"$\",\"$L13\",null,{\"href\":\"/\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":\" CAE \"}],[\"$\",\"$L13\",null,{\"href\":\"/iteration2\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":\" It√©ration 2 \"}],[\"$\",\"$L13\",null,{\"href\":\"#\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":\" Gestion des images \"}]]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_gerer_des_assets\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment g√©rer des assets ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_fonctionne_un_service_de_stockage_dobjets\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment fonctionne un service de stockage d'objets ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_creer_un_service_de_stockage_sur_azure\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment cr√©er un service de stockage sur Azure ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_utiliser_le_service_de_stockage_via_l_api\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment utiliser le service de stockage via l'API ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_tester_une_operation_de_l_api_qui_attend_une_image\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment tester une op√©ration de l'API qui attend une image ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_faire_un_upload_dimages_via_le_frontend\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment faire un upload d'images via le frontend ? \"}]}]}],[\"$\",\"$L15\",null,{\"component\":\"div\",\"sx\":{\"paddingTop\":0,\"paddingBottom\":0},\"children\":[\"$\",\"$L13\",null,{\"href\":\"#comment_utiliser_le_service_de_stockage_dans_lenvironnement_de_staging\",\"underline\":\"hover\",\"color\":\"inherit\",\"component\":\"$14\",\"children\":[\"$\",\"$L16\",null,{\"primary\":\" Comment utiliser le service de stockage dans l'environnement de staging ? \"}]}]}]]}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_gerer_des_assets\",\"children\":\" Comment g√©rer des assets ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les assets sont des ressources statiques (images, vid√©os, fichiers de styles, etc.) qui sont utilis√©es dans une application.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Il existe diff√©rents moyens de mettre √† disposition ces ressources pour une application web. Voici les moyens les plus courants :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Importer les assets dans le code source du frontend\"}],\" : Les assets sont import√©s dans le code source de l'application. Cela peut √™tre fait en utilisant des imports dans le code source (ex: \",[\"$\",\"code\",null,{\"children\":\"import image from './image.png'\"}],\") ou en fournissant un chemin relatif vers l'asset qui se trouve dans le r√©pertoire \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"public\"}]}],\" (ex: \",[\"$\",\"code\",null,{\"children\":\"\u003cimg src=\\\"/image.png\\\" /\u003e\"}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"H√©berger les assets via un serveur de fichiers statiques associ√© √† l'API\"}],\" : Les assets sont stock√©s dans un serveur de fichiers statiques mis √† disposition par l'API. L'API fournit alors des URLs pour acc√©der aux assets.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Offrir des op√©rations de l'API d√©di√©es √† la gestion des assets\"}],\" : L'API expose des op√©rations d√©di√©es √† la gestion des assets (ex: create, read, delete). Ces op√©rations permettent de stocker et de r√©cup√©rer les assets de mani√®re s√©curis√©e. L'API peut stocker les assets :\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"dans un syst√®me de fichiers ;\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"dans une base de donn√©es.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Utiliser un service tiers de gestion des assets\"}],\" : Un service tiers sp√©cialis√© dans la gestion des assets est utilis√© pour stocker et g√©rer les assets. Un exemple de service tiers est \",[\"$\",\"strong\",null,{\"children\":\"placid\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"H√©berger les assets dans un service de stockage d'objets\"}],\" : Les assets sont stock√©s dans un service de stockage d'objets (ex: AWS S3, Google Cloud Storage). L'API fournit alors des URLs pour acc√©der aux assets.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons explorer ces diff√©rentes approches dans les sections suivantes.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Importer les assets dans le code source du frontend\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"L'import des assets dans le code source du frontend est une approche simple et courante pour g√©rer les images dans une application web.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Cela fonctionne lorsque nous avons un nombre limit√© d'images et que ces images ne changent pas fr√©quemment.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Bien entendu, cette approche ne fonctionne que pour des images pr√©d√©finies, utiles lorsque l'on souhaite afficher des images de logo, des ic√¥nes, des images de produits par d√©faut, etc.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Si l'on souhaite permettre aux utilisateurs d'ajouter des images, cette approche n'est pas adapt√©e.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Cette approche pourra √™tre utilis√©e dans le projet CAE pour les images de logo, les ic√¥nes, etc. Pour les fichiers dynamiques, nous utiliserons une autre approche.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"H√©berger les assets via un serveur de fichiers statiques associ√© √† l'API\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"L'h√©bergement des assets via un serveur de fichiers statiques associ√© √† l'API est une approche courante pour stocker des assets dans une application web.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans cette approche, les assets sont stock√©es dans un r√©pertoire d√©di√© du serveur de fichiers statiques. L'API expose alors des URLs pour acc√©der aux assets.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Cette approche est principalement utile pour des assets qui sont statiques. Si l'on souhaite stocker des assets dynamiquement (ex: upload d'images par les utilisateurs), il va falloir cr√©er des op√©rations d√©di√©es (cas suivant) dans l'API pour g√©rer ces assets.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les inconv√©nients de cette approche sont les suivants :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les assets sont stock√©es sur le m√™me serveur que l'API, ce qui peut entra√Æner une surcharge du serveur si le nombre d'assets est important.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les URLs des assets sont directement accessibles, ce qui peut poser des probl√®mes de s√©curit√© (ex: acc√®s non autoris√© aux images).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Si l'on doit d'office \",[\"$\",\"strong\",null,{\"children\":\"Offrir des op√©rations de l'API d√©di√©es √† la gestion des assets\"}],\" (voir le cas suivant), alors autant jouer la carte de la s√©curit√© et ne pas utiliser d'URLs directes pour les assets.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous n'allons donc pas utiliser cette approche dans notre projet CAE. N√©anmoins, si vous √™tes int√©ress√© par cette approche, vous pourrez tenter de le faire par vous m√™me pour l'environnement de d√©veloppement.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Offrir des op√©rations de l'API d√©di√©es √† la gestion des assets\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Offrir des op√©rations de l'API d√©di√©es √† la gestion des assets est une approche plus s√©curis√©e pour stocker et g√©rer les assets dans une application web.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans cette approche, l'API expose des op√©rations d√©di√©es pour stocker, r√©cup√©rer et supprimer des assets. Les assets peuvent √™tre stock√©es dans un syst√®me de fichiers ou dans une base de donn√©es.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Cette approche est particuli√®rement utile lorsque l'on souhaite stocker des assets dynamiquement (ex: upload d'images par les utilisateurs).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"G√©n√©ralement, on va stocker les assets dans un r√©pertoire d√©di√© du serveur de l'API. L'API va alors g√©rer les op√©rations de stockage, de r√©cup√©ration et de suppression des assets.\\nL'avantage de cette approche est que l'on peut contr√¥ler l'acc√®s aux assets et garantir leur s√©curit√©.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"On utilise moins souvent une base de donn√©es pour stocker les assets, pour ces raisons :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les bases de donn√©es ne sont pas optimis√©es pour stocker des fichiers binaires (ex: images), les op√©rations de lecture et d'√©criture peuvent √™tre plus lentes.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Le stockage en DB co√ªte cher !\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Un asset enregistr√© dans une base de donn√©es prend plus de place qu'un fichier stock√© sur le disque (passage en base64 et overhead pour la gestion des enregistrements, des index et des m√©tadonn√©es). Quel pourcentage ? Cela d√©pend de la taille des fichiers et de la base de donn√©es utilis√©e, mais on peut estimer cela √† environ 30-40%.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les bases de donn√©es peuvent devenir rapidement surcharg√©es si l'on stocke des fichiers binaires.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les inconv√©nients de cette approche, d'offrir des op√©rations de l'API pour la gestion des assets, sont les suivants :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"La complexit√© de la gestion des op√©rations de stockage, de r√©cup√©ration et de suppression des assets. Il faut g√©rer les autorisations, les contr√¥les d'acc√®s, les quotas de stockage, etc.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"La surcharge du serveur de l'API si le nombre d'assets est important.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous n'allons donc pas utiliser cette approche dans notre projet CAE.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Utiliser un service tiers de gestion des assets\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Utiliser un service tiers de gestion des assets est une approche int√©ressante pour stocker et g√©rer les assets dans une application web.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Un service tiers sp√©cialis√© dans la gestion des assets offre g√©n√©ralement des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des assets. Ces services sont souvent optimis√©s pour g√©rer des fichiers binaires (ex: images, vid√©os, fichiers audio...).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Un exemple de service tiers de gestion des assets est \",[\"$\",\"strong\",null,{\"children\":\"placid\"}],\". Placid permet de stocker des images et de les manipuler (redimensionner, recadrer, compresser, etc.) via une API.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les avantages de cette approche sont les suivants :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services tiers de gestion des assets offrent des fonctionnalit√©s avanc√©es pour manipuler les assets (ex: redimensionner, recadrer, compresser).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services tiers de gestion des assets sont souvent optimis√©s pour g√©rer des fichiers binaires.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services tiers de gestion des assets offrent g√©n√©ralement des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d'acc√®s, chiffrement).\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les inconv√©nients de cette approche sont les suivants :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services tiers de gestion des assets peuvent √™tre co√ªteux.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services tiers de gestion des assets peuvent √™tre moins flexibles que des solutions auto-h√©berg√©es.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Il faut souvent utiliser un cl√© d'API pour acc√©der aux services tiers de gestion des assets, ce qui peut poser des probl√®mes de s√©curit√©. Il faut alors bien prot√©ger cette cl√© d'API et donc cr√©er ses propres op√©rations de l'API pour g√©rer les acc√®s √† ces services tiers. On retombe alors sur le cas pr√©c√©dent (\",[\"$\",\"strong\",null,{\"children\":\"Offrir des op√©rations de l'API d√©di√©es √† la gestion des assets\"}],\" !).\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous n'allons donc pas utiliser cette approche dans notre projet CAE.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"H√©berger les assets dans un service de stockage d'objets\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"H√©berger les assets dans un service de stockage d'objets est une approche courante pour stocker des assets dans une application web.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les services de stockage d'objets (ex: Azure Stockage, AWS S3, Google Cloud Storage) sont optimis√©s pour stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...). Ils offrent des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des assets. G√©n√©ralement, leur tarification est bas√©e sur l'utilisation (ex: quantit√© de donn√©es stock√©es, quantit√© de donn√©es transf√©r√©es) et sont donc tr√®s comp√©titifs.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"De plus, les services de stockage d'objets offrent des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d'acc√®s, chiffrement).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les gros avantages de cette approche :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"On peut d√©l√©guer la gestion des assets √† un service tiers sp√©cialis√©, ce qui permet de se concentrer sur le d√©veloppement de l'application.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services de stockage d'objets sont optimis√©s pour stocker des fichiers binaires et offrent des fonctionnalit√©s avanc√©es pour manipuler les assets.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services de stockage d'objets offrent des fonctionnalit√©s de s√©curit√© avanc√©es (ex: contr√¥le d'acc√®s, chiffrement) qui ne demande pas de gros efforts au niveau de ses propres op√©rations de l'API. Il y a toujours des efforts √† faire lors de l'upload de fichiers, mais ils sont moindres. Nous allons les voir dans la section suivante.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Pour la lecture de fichiers, il est possible que le frontend acc√®de directement aux URLs des assets, sans passer par l'API, tout en assurant la s√©curit√© des fichiers. Cela peut √™tre un avantage en termes de performance.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Les services de stockage d'objets sont g√©n√©ralement tr√®s comp√©titifs en termes de tarification.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons donc utiliser cette approche dans notre projet CAE.\"}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_fonctionne_un_service_de_stockage_dobjets\",\"children\":\" Comment fonctionne un service de stockage d'objets ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Un service de stockage d'objets est un service cloud qui permet de stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...) de mani√®re s√©curis√©e et scalable.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les services de stockage d'objets sont optimis√©s pour stocker de gros volumes de donn√©es non structur√©es. Ils offrent des fonctionnalit√©s avanc√©es pour stocker, r√©cup√©rer et supprimer des objets.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Les services de stockage d'objets sont g√©n√©ralement bas√©s sur une architecture de stockage distribu√©e. Les donn√©es sont r√©pliqu√©es sur plusieurs serveurs pour garantir la disponibilit√© et la durabilit√© des donn√©es.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Comment assurer la s√©curit√© des fichiers stock√©s ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour assurer la s√©curit√© des fichiers stock√©s dans un service de stockage d'objets, voici quelques bonnes pratiques √† suivre :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Chiffrement des donn√©es au repos\"}],\" (\\\"Encryption at Rest\\\"): Les donn√©es stock√©es dans le service de stockage d'objets doivent √™tre chiffr√©es pour garantir leur confidentialit√©. Les services de stockage d'objets offrent g√©n√©ralement des fonctionnalit√©s de chiffrement des donn√©es au repos. Par exemple, Azure Storage chiffre automatiquement les donn√©es au repos (chiffrement appliqu√© √† tous les objets stock√©s dans Azure Blob Storage, Azure Files, Azure Queue Storage et Azure Table Storage) √† l'aide de cl√©s de chiffrement g√©r√©es par le service.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Contr√¥le d'acc√®s bas√© sur les r√¥les\"}],\" : Les acc√®s aux fichiers stock√©s dans le service de stockage d'objets doivent √™tre contr√¥l√©s en fonction des r√¥les des utilisateurs. Dans Azure Storage, on peut utiliser les \",[\"$\",\"strong\",null,{\"children\":\"SAS (Shared Access Signatures)\"}],\" pour d√©finir des autorisations granulaires sur les objets stock√©s.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Journalisation des acc√®s\"}],\" : Les acc√®s aux fichiers stock√©s dans le service de stockage d'objets doivent √™tre journalis√©s pour permettre la tra√ßabilit√© des acc√®s. Les services de stockage d'objets offrent g√©n√©ralement des fonctionnalit√©s de journalisation des acc√®s.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Gestion des cl√©s d'API\"}],\" : Les cl√©s d'API utilis√©es pour acc√©der au service de stockage d'objets doivent √™tre g√©r√©es de mani√®re s√©curis√©e. Azure Storage permet de g√©rer les cl√©s d'API √† l'aide de l'Azure Key Vault.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Comment g√©rer les op√©rations CRUD sur les fichiers ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour g√©rer les op√©rations CRUD (Create, Read, Update, Delete) sur les fichiers stock√©s dans un service de stockage d'objets, voici quelques bonnes pratiques √† suivre :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Utilisation d'une API RESTful\"}],\" : Les op√©rations CRUD sur les fichiers stock√©s dans le service de stockage d'objets doivent √™tre expos√©es via une API RESTful. Les services de stockage d'objets offrent g√©n√©ralement des SDK pour faciliter l'int√©gration avec l'API. Par exemple, Azure Storage propose des SDK pour diff√©rentes langages de programmation (C#, Java, Python, Node.js, etc.).\\nIl existe un \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder\"}]}],\" pour manipuler les blobs dans Azure Storage.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Gestion des m√©tadonn√©es\"}],\" : Les fichiers stock√©s dans le service de stockage d'objets peuvent √™tre associ√©s √† des m√©tadonn√©es pour faciliter leur gestion. Les m√©tadonn√©es peuvent √™tre utilis√©es pour stocker des informations suppl√©mentaires sur les fichiers (ex: type de contenu, taille, date de cr√©ation, etc.).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Gestion des autorisations\"}],\" : Les acc√®s aux fichiers stock√©s dans le service de stockage d'objets doivent √™tre contr√¥l√©s en fonction des autorisations des utilisateurs. Dans Azure Storage, on peut utiliser les \",[\"$\",\"strong\",null,{\"children\":\"SAS (Shared Access Signatures)\"}],\" pour d√©finir des autorisations granulaires sur les objets stock√©s. Une SAS est un jeton qui peut √™tre ajout√© √† une URL pour accorder un acc√®s temporaire et limit√© √† une ressource dans Azure Storage. La SAS sp√©cifie les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d'autres restrictions d'acc√®s.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Gestion des versions\"}],\" : Les fichiers stock√©s dans le service de stockage d'objets peuvent √™tre versionn√©s pour permettre la gestion des versions des fichiers. Les services de stockage d'objets offrent g√©n√©ralement des fonctionnalit√©s de gestion des versions.\\nAzure Storage propose la gestion des versions pour les blobs.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Est-il possible de ne pas s√©curiser l'acc√®s aux fichiers ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Il est possible de ne pas s√©curiser l'acc√®s aux fichiers stock√©s dans un service de stockage d'objets, mais cela pose des risques en termes de s√©curit√©. Les fichiers stock√©s dans le service de stockage d'objets peuvent contenir des informations sensibles (ex: donn√©es personnelles, propri√©t√© intellectuelle, etc.) qui doivent √™tre prot√©g√©es.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Si √ßa n'est pas le cas, alors il est possible de ne pas s√©curiser l'acc√®s aux fichiers stock√©s dans le service de stockage d'objets. Cela peut √™tre utile pour des fichiers publics (ex: images, vid√©os, fichiers audio accessibles au public).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Attention que m√™me si l'on n'utilise pas des autorisations pour la lecture des fichiers, il est possible de trouver un compromis au niveau s√©curit√© de cette fa√ßon :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Cr√©ation de noms de fichiers complexes\"}],\" : Les noms de fichiers stock√©s dans le service de stockage d'objets peuvent √™tre rendus complexes pour limiter l'acc√®s non autoris√©. Par exemple, on peut utiliser des UUID (Universal Unique Identifier) comme noms de fichiers.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Rendre l'acc√®s public en lecture seule et individuelle aux fichiers\"}],\" (et pas au niveau du conteneur) : Ainsi il n'est pas possible de lister les fichiers, mais on peut acc√©der √† un fichier seulement si on conna√Æt son URL.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Avec ce compromis, on peut limiter l'acc√®s non autoris√© aux fichiers stock√©s dans le service de stockage d'objets tout en permettant un acc√®s public aux fichiers.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons utiliser ce compromis pour le projet CAE.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Attention que pour la cr√©ation et l'effacement de fichier, il est toujours n√©cessaire de s√©curiser l'acc√®s ! Sinon, n'importe qui pourrait cr√©er ou effacer des fichiers dans le service de stockage d'objets üò± !\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Ainsi, nous utiliserons un SAS token pour les op√©ration de cr√©ation et d'effacement de fichiers.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Comment autoriser l'acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour autoriser l'acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage, on peut utiliser les \",[\"$\",\"strong\",null,{\"children\":\"SAS (Shared Access Signatures)\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Une SAS est un jeton qui peut √™tre ajout√© √† une URL pour accorder un acc√®s temporaire et limit√© √† une ressource dans Azure Storage. La SAS sp√©cifie les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d'autres restrictions d'acc√®s.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici le workflow que nous utiliserons pour autoriser l'acc√®s aux fichiers stock√©s dans le service de stockage avec Azure Stockage :\"}],\"\\n\",[\"$\",\"$L17\",null,{\"src\":\"/diagrams/azure-storage.puml\",\"alt\":\"Gestion d'images pour le projet avec Azure Stockage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans un premier temps, les d√©veloppeurs vont devoir g√©n√©rer une token (SAS) pour les fichiers stock√©s dans le service de stockage. Cette SAS va sp√©cifier les permissions (lecture, √©criture, suppression, etc.), la dur√©e de validit√© et d'autres restrictions d'acc√®s.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Puis, lorsque l'application est ex√©cut√©e, le frontend permettra via un formulaire de cr√©er des ressources incluant une image. Lors de la cr√©ation de la ressource, le frontend va envoyer une requ√™te √† l'API avec l'image √† stocker.\\nEn utilisant le token (SAS), l'API va pouvoir stocker l'image dans le service de stockage d'objets.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Finalement, lorsque les utilisateurs consulteront une page affichant les ressources, le frontend va envoyer une requ√™te √† l'API pour r√©cup√©rer les ressources √† afficher. L'API va alors r√©cup√©rer les ressources stock√©es dans la DB, incluant l'URL vers l'image stock√©e dans le service de stockage d'objets. Le frontend va alors afficher les ressources, incluant les images stock√©es dans le service de stockage d'objets.\\nNB : si l'on avait souhait√© s√©curiser au maximum les images, on aurait pu passer par l'API pour qu'elle sauvegarde une SAS URL pour chaque image stock√©e dans le service de stockage d'objets. Cela aurait permis de contr√¥ler l'acc√®s lors de la lecture des images. Mais pour notre projet, nous avons choisi d'avoir un compromis au niveau s√©curit√©.\"}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_creer_un_service_de_stockage_sur_azure\",\"children\":\" Comment cr√©er un service de stockage sur Azure ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Comme vous le savez d√©j√†, Azure Storage est un service cloud de stockage d'objets qui permet de stocker des fichiers binaires (ex: images, vid√©os, fichiers audio...).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons √† pr√©sent voir comment appliquer le workflow que nous avons vu pr√©c√©demment pour sauvegarder des images dans Azure Storage au sein d'une application existante permettant de cr√©er et afficher des pizzas.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Le point de d√©part pour ce tutoriel est le site de gestion de la pizzeria comme vu au dernier tutoriel nomm√© \",[\"$\",\"a\",null,{\"href\":\"https://github.com/e-vinci/cae-theory-demos/tree/main/staging\",\"children\":\"staging\"}],\". Veuillez donc en faire une copie au sein d'un projet GitLab.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Cr√©ation d'un compte de stockage Azure (Storage account)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour cr√©er un compte de stockage Azure, vous devez disposer d'un abonnement Azure depuis moins de 12 mois. Si vous √™tes √©tudiant, vous pouvez b√©n√©ficier d'un abonnement gratuit Azure for Students.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Veuillez suivre les √©tapes suivantes pour cr√©er un compte de stockage Azure :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Connectez-vous √† votre \",[\"$\",\"a\",null,{\"href\":\"https://portal.azure.com/\",\"children\":\"portail Azure\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans la recherche, tapez \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Free services\"}]}],\", puis cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Free services\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"S√©lectionnez ensuite \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Azure Blob Storage\"}]}],\" (\",[\"$\",\"code\",null,{\"children\":\"5 GB locally redundant storage (LRS) hot block with 20,000 read and 10,000 write operations\"}],\"), puis cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"S√©lectionnez votre \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Subscription\"}]}],\" et \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Resource group\"}]}],\". Pour les √©tudiants Vinci, cela devrait √™tre \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Azure for Students\"}]}],\". Si vous n'avez pas de \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Resource group\"}]}],\", vous pouvez en cr√©er un en cliquant sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create new\"}]}],\" (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imageGroup\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Entrez un \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage account name\"}]}],\" unique. Par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imagestorage007\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"S√©lectionnez la \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Region\"}]}],\" qui est acceptable dans un plan gratuit. Par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"West Europe\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Review + create\"}]}],\", puis sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Attendez que le d√©ploiement soit termin√©. Cela peut prendre quelques minutes. Puis cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Go to resource\"}]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Cr√©ation de deux blobs containers\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Un blob container est un conteneur de stockage d'objets dans Azure Storage. Il est utilis√© pour stocker des objets binaires (ex: images, vid√©os, fichiers audio...).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous souhaitions cr√©er deux blob containers pour stocker les images des pizzas :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"un container pour l'environnement de d√©veloppement (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"dev\"}]}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"un container pour l'environnement de staging (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"staging\"}]}],\")\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Configuration du storage account\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans un premier temps, il faut s'assurer qu'on aie le droit d'acc√©der de mani√®re anonyme aux blobs. Cela permettra aux utilisateurs de l'application d'acc√©der aux images sans avoir besoin de s'authentifier.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici comment faire :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le portail Azure, cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage accounts\"}]}],\" dans le menu de gauche.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage account\"}]}],\" que vous avez cr√©√© pr√©c√©demment (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imagestorage007\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Settings\"}]}],\" sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Configuration\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Allow Blob anonymous access\"}]}],\" doit √™tre √† \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Enabled\"}]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Cr√©ation du blob container pour l'environnement de d√©veloppement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour cr√©er un blob container pour l'environnement de d√©veloppement, veuillez suivre les √©tapes suivantes :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le portail Azure, cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage accounts\"}]}],\" dans le menu de gauche.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage account\"}]}],\" que vous avez cr√©√© pr√©c√©demment (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imagestorage007\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le menu de gauche, sous \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Data storage\"}]}],\", cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Containers\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"+ Container\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Entrez un nom pour le container. Par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"dev\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Pour \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Anonymous access level\"}]}],\", s√©lectionnez \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob (anonymous read access for blobs only)\"}]}],\". Gr√¢ce √† cela, les blobs peuvent √™tre lus par n'importe qui, mais sans avoir le droit de lister les blobs.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Laissez les autres param√®tres par d√©faut.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create\"}]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Cr√©ation du blob container pour l'environnement de staging\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour cr√©er un blob container pour l'environnement de staging, veuillez suivre les √©tapes suivantes :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le portail Azure, cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage accounts\"}]}],\" dans le menu de gauche.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage account\"}]}],\" que vous avez cr√©√© pr√©c√©demment (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imagestorage007\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le menu de gauche, sous \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Data storage\"}]}],\", cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Containers\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"+ Container\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Entrez un nom pour le container. Par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"staging\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Laissez les autres param√®tres par d√©faut.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create\"}]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"S√©curisation des acc√®s via un SAS token\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour s√©curiser les acc√®s aux blobs, nous allons utiliser un SAS token.\\nNous allons g√©n√©rer un SAS token pour tous les blobs de notre storage account. Ce SAS token doit permettre la cr√©ation et la suppression de blobs.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici comment faire :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le portail Azure, cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage accounts\"}]}],\" dans le menu de gauche.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Storage account\"}]}],\" que vous avez cr√©√© pr√©c√©demment (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imagestorage007\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans le menu de gauche, sous \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Security + networking\"}]}],\", cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Shared access signature\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Allowed resources types\"}]}],\", s√©lectionnez \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Object\"}]}],\". Un \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Object\"}]}],\" fait r√©f√©rence √† une unit√© de donn√©es stock√©e dans Azure Storage, comme un blob.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Allowed permissions\"}]}],\", m√™me si c'est juste  \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Create\"}]}],\" et \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Delete\"}]}],\" que nous avons besoin, nous allons laisser toutes les permissions s√©lectionn√©es.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Pour le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Start time\"}]}],\", laissez la date actuelle.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Pour le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"End time\"}]}],\", s√©lectionnez une date loin dans le futur. Par exemple, 10 ans plus tard.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Generate SAS and connection string\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Veuillez conserver :\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"SAS token\"}]}],\" g√©n√©r√©, comme par exemple \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"sv=2024-11-02\u0026ss=bfqt\u0026srt=o\u0026sp=rwdlacaerpiytfx\u0026se=2035-02-24T23:52:15Z\u0026st=2025-02-24T15:52:15Z\u0026spr=https\u0026sig=OoOvYhdQZFxO79sqdfqsHXHgDw1cCvq%2FeSciIift10CTT54%3D\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob endpoint\"}]}],\" g√©n√©r√©, comme par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://imagestorage007.blob.core.windows.net/\"}]}],\".\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_utiliser_le_service_de_stockage_via_l_api\",\"children\":\" Comment utiliser le service de stockage via l'API ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Maintenant que nous avons cr√©√© un service de stockage d'objets sur Azure, nous allons voir comment l'utiliser via l'API pour stocker et r√©cup√©rer des images.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans notre tutoriel, nous allons modifier le service de gestion des pizzas pour qu'il utilise le service de stockage d'objets pour stocker les images des pizzas :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"lors de la cr√©ation d'une pizza : l'image de la pizza sera stock√©e dans le service de stockage d'objets ;\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"lors de la r√©cup√©ration des pizzas : l'URL de l'image de la pizza sera r√©cup√©r√©e depuis la DB.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"lors de la suppression d'une pizza : l'image de la pizza sera supprim√©e du service de stockage d'objets.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Configuration de l'API pour utiliser le service de stockage\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"L'API a besoin de conna√Ætre les informations suivantes pour utiliser le service de stockage d'objets :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob endpoint\"}]}],\" : l'URL de base du service de stockage d'objets (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://imagestorage007.blob.core.windows.net/\"}]}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"SAS token\"}]}],\" : le token d'acc√®s partag√© pour acc√©der au service de stockage d'objets (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"sv=2024-11-02\u0026ss=bfqt\u0026srt=o\u0026sp=rwdlacaerpiytfx\u0026se=2035-02-24T23:52:15Z\u0026st=2025-02-24T15:52:15Z\u0026spr=https\u0026sig=OoOvYhdQZFxO79sqdfqsHXHgDw1cCvq%2FeSciIift10CTT54%3D\"}]}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Container name\"}]}],\" : le nom du blob container dans lequel les images seront stock√©es (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"dev\"}]}],\").\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Configuration de l'API pour l'environnement de d√©veloppement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour configurer l'API pour l'environnement de d√©veloppement, actuellement, nous utilisons \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"application.properties\"}]}],\" pour stocker les configurations. Nous allons ajouter les configurations suivantes :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-properties\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-properties code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.service-endpoint\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"https://imagestorage007.blob.core.windows.net/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.container-name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"dev\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.sas-token\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"$${AZURE_BLOB_SAS_TOKEN}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.enabled\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.max-file-size\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"10MB\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.max-request-size\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"10MB\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici quelques explications sur ces configurations :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.service-endpoint\"}]}],\" : l'URL de base du service de stockage d'objets (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://imagestorage007.blob.core.windows.net/\"}]}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.container-name\"}]}],\" : le nom du blob container dans lequel les images seront stock√©es (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"dev\"}]}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.sas-token\"}]}],\" : le token d'acc√®s partag√© pour acc√©der au service de stockage d'objets (ex: \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"$${AZURE_BLOB_SAS_TOKEN}\"}]}],\"). Nous allons stocker ce token dans une variable d'environnement car c'est un secret qui ne doit pas se trouver dans le code source.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"spring.servlet.multipart.enabled\"}]}],\" : active le support de l'upload de fichiers. \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"multipart\"}]}],\" signifie que le contenu de la requ√™te est un formulaire multipart, c'est √† dire qu'il contient des donn√©es de plusieurs types (texte / json, fichier, etc.).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"spring.servlet.multipart.max-file-size\"}]}],\" : la taille maximale autoris√©e pour un fichier.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"spring.servlet.multipart.max-request-size\"}]}],\" : la taille maximale autoris√©e pour une requ√™te.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Au sein du fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/.env\"}]}],\", nous allons ajouter la propri√©t√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"AZURE_BLOB_SAS_TOKEN\"}]}],\" avec la valeur du SAS token que vous avez not√© pr√©c√©demment. Voici un exemple :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-properties\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-properties code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"AZURE_BLOB_SAS_TOKEN\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"sv=2024-11-02\u0026ss=bfqt\u0026srt=o\u0026sp=rwdlacaerpiytfx\u0026se=2035-02-24T23:52:15Z\u0026st=2025-02-24T15:52:15Z\u0026spr=https\u0026sig=OoOvYhdQZFxO79sqhhqsHXHgDw1cbvq%2FeSciIift10XRT74%3D\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour rappel, lorsque nous utiliserons IntelliJ pour lancer l'API, comme nous avons install√© la d√©pendance \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"spring-dotenv\"}]}],\", les variables d'environnement stock√©es dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/.env\"}]}],\" seront automatiquement charg√©es.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Cr√©ation d'une op√©ration pour stocker une image dans le service de stockage\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons maintenant mettre √† jour l'API pour ajouter une op√©ration permettant de stocker une image dans le service de stockage d'objets lors de la cr√©ation d'une pizza.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Actuellement, voici √† quoi ressemble l'op√©ration de cr√©ation d'une pizza (dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"controllers/PizzaController.java\"}]}],\") :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-java\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-java code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@PostMapping\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"/\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@PreAuthorize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"hasRole('ROLE_ADMIN')\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"addPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@RequestBody\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NewPizza\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isBlank\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isBlank\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ResponseStatusException\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"HttpStatus\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BAD_REQUEST\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" pizzaService\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Ici l'op√©ration de cr√©ation d'une pizza prend en param√®tre un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"NewPizza\"}]}],\" qui contient le titre et le contenu de la pizza. Nous allons maintenant ajouter un champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image\"}]}],\" √† l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"NewPizza\"}]}],\" pour stocker l'image de la pizza.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Modification du controller\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les modifications √† faire :\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-java\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-java code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@PostMapping\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"/\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@PreAuthorize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"hasRole('ROLE_ADMIN')\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"addPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@RequestPart\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"newPizza\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NewPizza\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@RequestPart\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"image\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MultipartFile\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isBlank\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isBlank\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ResponseStatusException\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"HttpStatus\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BAD_REQUEST\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" pizzaService\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les explications sur ces modifications :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"@RequestPart(\\\"newPizza\\\")\"}]}],\" : permet de r√©cup√©rer l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"NewPizza\"}]}],\" envoy√© dans le corps de la requ√™te. Le type MIME de la requ√™te doit √™tre \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"multipart/form-data\"}]}],\". Ce type de requ√™te est utilis√© pour envoyer des donn√©es de plusieurs types (texte / json, fichier, etc.).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"@RequestPart(\\\"image\\\")\"}]}],\" : permet de r√©cup√©rer le fichier nomm√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image\"}]}],\" envoy√© dans le corps de la requ√™te.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"MultipartFile\"}]}],\" : est une classe fournie par Spring pour repr√©senter un fichier envoy√© dans une requ√™te multipart. Elle contient des m√©thodes pour acc√©der aux donn√©es du fichier (ex: nom, type MIME, contenu).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizzaService.createPizza(newPizza, image)\"}]}],\" : appelle la m√©thode \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"createPizza\"}]}],\" du service de gestion des pizzas en passant l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"NewPizza\"}]}],\" et le fichier image en param√®tres. Nous allons prochainement modifier cette m√©thode.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Installation de la d√©pendance Azure Blob Storage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour utiliser le service de stockage d'objets Azure Blob Storage, nous allons ajouter la d√©pendance \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure-storage-blob\"}]}],\" √† notre projet. Dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/pom.xml\"}]}],\", ajoutez la d√©pendance suivante :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-xml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-xml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"dependency\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"groupId\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"com.azure\",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],\"groupId\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"artifactId\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"azure-storage-blob\",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],\"artifactId\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"version\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\" 12.27.0\",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],\"version\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],\"dependency\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Modification de l'entit√© Pizza\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Nous allons ajouter un champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imageLocation\"}]}],\" √† l'entit√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Pizza\"}]}],\" pour stocker l'URL de l'image de la pizza. Voici les modifications √† faire dans l'entit√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Pizza\"}]}],\" (dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"models/entities/Pizza.java\"}]}],\") :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-java\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-java code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Id\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@GeneratedValue\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"strategy \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"GenerationType\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IDENTITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Long\"}],\" id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Column\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"nullable \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" title\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Column\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"nullable \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" content\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Column\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"nullable \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Modification du service de gestion des pizzas\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Voici les modifications √† faire dans le service de gestion des pizzas (dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"services/PizzaService.java\"}]}],\") pour mettre √† jour la m√©thode \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"createPizza\"}]}],\" (n'oubliez pas d'importer les classes n√©cessaires) :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-java\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-java code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Service\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PizzaService\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"final\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PizzaRepository\"}],\" pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"final\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"final\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" sasToken\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"final\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" containerName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"//...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PizzaService\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PizzaRepository\"}],\" pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"11\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"${azure.blob.service-endpoint}\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"12\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"${azure.blob.sas-token}\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" sasToken\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"13\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token annotation punctuation\",\"children\":\"@Value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"${azure.blob.container-name}\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" containerName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"pizzaRepository \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"15\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"blobServiceEndpoint \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"16\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"sasToken \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" sasToken\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"17\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"containerName \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" containerName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"//...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NewPizza\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MultipartFile\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" pizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"      pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getTitle\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"      pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"27\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"image \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isEmpty\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"28\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" blobUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"uploadImageToBlob\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"29\",\"children\":[\"        pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setImageLocation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"blobUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"30\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"save\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"35\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"/**\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"36\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"     * Upload an image to a blob on Azure storage with a generated UUID as filename.\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"37\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"     * The image is uploaded to the \\\"images\\\" folder.\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"38\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"     * The original filename is stored in the metadata.\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"39\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":[\"     * \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@param\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"image\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"40\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":[\"     * \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@return\"}],\" the blob url\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"41\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":[\"     * \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@throws\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token reference\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"IOException\"}]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"42\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"     */\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"43\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"uploadImageToBlob\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MultipartFile\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"44\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" imageUUID \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UUID\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"randomUUID\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"toString\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"45\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token generics\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\" metadata \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"HashMap\"}],[\"$\",\"span\",null,{\"className\":\"token generics\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"46\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"47\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" blobName \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" imageUUID\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"48\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"49\",\"children\":[\"    metadata\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"put\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"originalFileName\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getOriginalFilename\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"50\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"BlobClientBuilder\"}],\" blobClientBuilder \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"BlobClientBuilder\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"51\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"endpoint\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"52\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"sasToken\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sasToken\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"53\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"containerName\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"containerName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"54\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"blobName\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"blobName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"55\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"56\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"57\",\"children\":[\"      blobClientBuilder\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"buildClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"upload\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getInputStream\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getSize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"58\",\"children\":[\"      blobClientBuilder\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"buildClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setMetadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"metadata\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"59\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"IOException\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"60\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"RuntimeException\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"61\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"62\",\"children\":[\"    blobClientBuilder\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"buildClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"63\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setHttpHeaders\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"BlobHttpHeaders\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setContentType\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getContentType\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"64\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"65\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" blobClientBuilder\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"buildClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getBlobUrl\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"66\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"67\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"//....\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les explications sur ces modifications :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"@Value(\\\"${azure.blob.service-endpoint}\\\") String blobServiceEndpoint\"}]}],\" : injecte la valeur de la propri√©t√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.service-endpoint\"}]}],\" dans le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobServiceEndpoint\"}]}],\". Cette propri√©t√© provient du fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"application.properties\"}]}],\", le fichier de configuration de l'API en mode d√©veloppement.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"@Value(\\\"${azure.blob.sas-token}\\\") String sasToken\"}]}],\" : injecte la valeur de la propri√©t√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.sas-token\"}]}],\" dans le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"sasToken\"}]}],\". Cette propri√©t√© provient du fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"application.properties\"}]}],\", le fichier de configuration de l'API en mode d√©veloppement.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"@Value(\\\"${azure.blob.container-name}\\\") String containerName\"}]}],\" : injecte la valeur de la propri√©t√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure.blob.container-name\"}]}],\" dans le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"containerName\"}]}],\". Cette propri√©t√© provient aussi du fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"application.properties\"}]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"uploadImageToBlob\"}]}],\" : est une m√©thode priv√©e qui permet de stocker une image dans le service de stockage d'objets. Elle prend en param√®tre un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"MultipartFile\"}]}],\" qui repr√©sente le fichier image √† stocker. Elle retourne l'URL du blob dans lequel l'image a √©t√© stock√©e. Cette m√©thode utilise la biblioth√®que \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"azure-storage-blob\"}]}],\" pour interagir avec le service de stockage d'objets Azure Blob Storage :\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"UUID.randomUUID().toString()\"}]}],\" : g√©n√®re un UUID (Universal Unique Identifier) pour le nom du blob. Cela permet de garantir que le nom du blob est unique. De plus, cela permet de cacher le nom du fichier original, permettant de s√©curiser l'acc√®s aux fichiers stock√©s. Seulement un utilisateur ayant l'URL du blob pourra acc√©der √† l'image. Il est difficile pour des utilisateurs malveillants de deviner l'URL du blob.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Map\u003cString, String\u003e metadata = new HashMap\u003c\u003e()\"}]}],\" : cr√©e une map pour stocker les m√©tadonn√©es du blob. Ici, nous stockons le nom du fichier original dans les m√©tadonn√©es. Cela permet de conserver le nom du fichier original pour une utilisation ult√©rieure.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder blobClientBuilder = new BlobClientBuilder()\"}]}],\" : cr√©e un \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder\"}]}],\" pour interagir avec le service de stockage d'objets Azure Blob Storage. Le \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder\"}]}],\" permet de cr√©er, lire, mettre √† jour et supprimer des blobs.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobClientBuilder.buildClient().upload(image.getInputStream(), image.getSize(), true)\"}]}],\" : stocke le fichier image dans le blob. Nous utilisons la m√©thode \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"upload\"}]}],\" pour stocker le contenu du fichier image dans le blob. Nous passons le flux d'entr√©e du fichier image, la taille du fichier image et \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"true\"}]}],\" pour indiquer que le fichier doit √™tre √©cras√© s'il existe d√©j√†.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobClientBuilder.buildClient().setMetadata(metadata)\"}]}],\" : d√©finit les m√©tadonn√©es du blob. Ici, nous stockons le nom du fichier original dans les m√©tadonn√©es.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobClientBuilder.buildClient().setHttpHeaders(new BlobHttpHeaders().setContentType(image.getContentType()))\"}]}],\" : d√©finit les en-t√™tes HTTP du blob. Ici, nous d√©finissons le type MIME du blob en fonction du type MIME du fichier image.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobClientBuilder.buildClient().getBlobUrl()\"}]}],\" : retourne l'URL du blob. Cette URL peut √™tre utilis√©e pour acc√©der au contenu du blob. C'est cette URL que nous stockons dans le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imageLocation\"}]}],\" de l'entit√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Pizza\"}]}],\", afin de la sauvegarder dans la DB.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour ce tutorial, nous allons aussi nous occuper de mettre √† jour la m√©thode permettant d'effacer une pizza. Nous ne traiterons pas de l'update d'une pizza pour ce tutorial.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Effacer une image dans le service de stockage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons maintenant mettre √† jour l'API pour ajouter une op√©ration permettant d'effacer l'image d'une pizza dans le service de stockage d'objets lors de la suppression d'une pizza.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Veuillez modifier le service de gestion des pizzas (dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"services/PizzaService.java\"}]}],\") :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-java\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-java code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"public\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"deletePizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Long\"}],\" id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" pizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"findById\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"orElse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"4\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getImageLocation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"5\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"deleteImageFromBlob\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getImageLocation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"6\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      pizzaRepository\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"delete\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"/**\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"13\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"   * Delete an image from the blob storage.\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"14\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"   *\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"15\",\"children\":[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":[\"   * \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@param\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"imageLocation\"}],\" the image location\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":\"   */\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"17\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"private\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"void\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"deleteImageFromBlob\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"18\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageLocation \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isEmpty\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"contains\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"19\",\"children\":[\"        blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"20\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"String\"}],\" blobName \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"substring\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageLocation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"lastIndexOf\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"/\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"21\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"BlobClientBuilder\"}],\" blobClientBuilder \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"BlobClientBuilder\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"22\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"endpoint\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"blobServiceEndpoint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"23\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"sasToken\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sasToken\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"24\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"containerName\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"containerName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"25\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"blobName\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"blobName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"26\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"27\",\"children\":[\"      blobClientBuilder\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"buildClient\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"delete\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"28\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"29\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"La nouvelle m√©thode \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"deleteImageFromBlob\"}]}],\" permet de supprimer une image du service de stockage d'objets. Elle prend en param√®tre l'URL de l'image √† supprimer. Voici les explications sur cette m√©thode :\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobName\"}]}],\" : extrait le nom du blob √† partir de l'URL de l'image. L'URL de l'image est de la forme \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://imagestorage007.blob.core.windows.net/dev/imageUUID\"}]}],\". Nous extrayons le nom du blob \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imageUUID\"}]}],\" √† partir de l'URL.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder blobClientBuilder = new BlobClientBuilder()\"}]}],\" : cr√©e un \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BlobClientBuilder\"}]}],\" pour interagir avec le service de stockage d'objets Azure Blob Storage.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"blobClientBuilder.buildClient().delete()\"}]}],\" : supprime le blob.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_tester_une_operation_de_l_api_qui_attend_une_image\",\"children\":\" Comment tester une op√©ration de l'API qui attend une image ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Maintenant que nous avons mis √† jour l'API pour stocker et r√©cup√©rer des images dans le service de stockage d'objets, nous allons voir comment tester une op√©ration de l'API qui attend une image.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons utiliser IntelliJ HTTP Client pour tester l'op√©ration de cr√©ation d'une pizza qui attend une image.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Cr√©ation d'une pizza avec une image\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Veuillez ajouter cette image dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/src/test\"}]}],\" :\\n\",[\"$\",\"$L18\",null,{\"name\":\"/files/pizza.png\",\"download\":true,\"children\":\"pizza.png\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour tester l'op√©ration de cr√©ation d'une pizza avec une image, veuillez ajouter cette requ√™te dans votre fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/src/test/pizzas.http\"}]}],\"  :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-http\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-http code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"#### Create a pizza with the admin token and an image\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"#### Create a pizza with the admin token\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"POST {{baseUrl}}/pizzas\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header-name keyword\",\"children\":\"Content-Type\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token header-value\",\"children\":\"multipart/form-data; boundary=boundary\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header-name keyword\",\"children\":\"Authorization\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token header-value\",\"children\":\"{{adminToken}}\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"--boundary\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header-name keyword\",\"children\":\"Content-Disposition\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token header-value\",\"children\":\"form-data; name=\\\"newPizza\\\"\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token header-name keyword\",\"children\":\"Content-Type\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token header-value\",\"children\":\"application/json\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"title\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Magic Green\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"content\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"--boundary\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[\"Content-Disposition\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" form-data; name=\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"image\\\"\"}],\"; filename=\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"pizza.png\\\"\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[\"Content-Type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" image/png\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// The 'pizza.png' file will be uploaded\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"\u003c ./pizza.png\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token application-json\",\"children\":\"--boundary\\n\"}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Quelques explications sur cette requ√™te :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"boundary\"}]}],\" : est une cha√Æne de caract√®res qui d√©limite les parties du formulaire multipart. Chaque partie du formulaire multipart commence par \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"--boundary\"}]}],\" et se termine par \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"--boundary\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Content-Disposition: form-data; name=\\\"newPizza\\\"\"}]}],\" : indique que la partie du formulaire multipart contient l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"NewPizza\"}]}],\". Le type MIME de la partie est \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"application/json\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Content-Disposition: form-data; name=\\\"image\\\"; filename=\\\"pizza.png\\\"\"}]}],\" : indique que la partie du formulaire multipart contient le fichier image. Le nom du fichier est \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizza.png\"}]}],\". Le type MIME de la partie est \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image/png\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003c ./pizza.png\"}]}],\" : indique que le contenu du fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizza.png\"}]}],\" doit √™tre envoy√© dans la partie du formulaire multipart.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Veuillez vous assurer que votre API est bien lanc√©e dans IntelliJ. Puis, ex√©cutez la requ√™te en cliquant sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Send Request\"}]}],\" (N'oubliez pas d'ex√©cuter la requ√™te de login de l'admin auparavant, et du register de l'admin encore auparavant si n√©cessaire via \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"auths.http\"}]}],\"). Vous devriez recevoir une r√©ponse avec le statut \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"200 OK\"}]}],\" et le corps de la r√©ponse devrait contenir les informations de la pizza cr√©√©e.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"R√©cup√©ration de l'URL de l'image de la pizza\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour r√©cup√©re l'URL d'une pizza, il suffit de r√©cup√©rer une pizza via l'API.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"N'h√©sitez pas √† faire la requ√™te permettant de lire toutes les pizzas pour r√©cup√©rer l'URL de l'image de la pizza que vous venez de cr√©er.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Effacement d'une pizza avec une image\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour tester l'op√©ration de suppression d'une pizza avec une image, il vous suffit de faire une requ√™te de suppression d'une pizza via l'API.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"N'h√©sitez pas √† faire la requ√™te permettant de supprimer la pizza que vous venez de cr√©er.\\nEt n'oubliez pas de v√©rifier que l'image a bien √©t√© effac√©e du service de stockage d'objets.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Conclusion sur la gestion des images avec Azure Stockage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans ce tutoriel, nous avons vu comment utiliser le service de stockage d'objets Azure Blob Storage pour stocker et r√©cup√©rer des images dans une application Spring Boot. Nous avons vu comment configurer le service de stockage d'objets Azure Blob Storage, comment stocker des images dans le service de stockage d'objets Azure Blob Storage lors de la cr√©ation d'une pizza, comment r√©cup√©rer des images stock√©es dans le service de stockage d'objets Azure Blob Storage lors de la r√©cup√©ration des pizzas, et comment effacer des images stock√©es dans le service de stockage d'objets Azure Blob Storage lors de la suppression d'une pizza.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous avons √©galement vu comment tester une op√©ration de l'API qui attend une image en utilisant IntelliJ HTTP Client.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous allons maintenant voir comment mettre √† jour le frontend pour faire un formulaire permettant de cr√©er une pizza avec une image, et comment afficher les images des pizzas dans l'application frontend.\"}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_faire_un_upload_dimages_via_le_frontend\",\"children\":\" Comment faire un upload d'images via le frontend \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous souhaitons mettre √† jour le frontend pour permettre aux utilisateurs de cr√©er des pizzas avec des images. Pour cela, nous allons ajouter un formulaire qui permettra de s√©lectionner une image lors de la cr√©ation d'une pizza.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Mise √† jour du formulaire de cr√©ation de pizza\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Veuillez mettre √† jour le formulaire de cr√©ation de pizza pour permettre de s√©lectionner une image. Pour ce faire, veuillez modifier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/frontend/src/components/pages/AddPizzaPage.tsx\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-tsx\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useState\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"SyntheticEvent\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useNavigate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" useOutletContext \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react-router-dom'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"PizzeriaContext\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../types'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Box\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Button\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TextField\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" useTheme \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@mui/material'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"AddPizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" theme \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useTheme\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" addPizza \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"PizzeriaContext\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useOutletContext\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" navigate \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useNavigate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" setPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useState\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"''\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" setDescription\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useState\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"''\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" setImage\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token generic-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useState\"}],[\"$\",\"span\",null,{\"className\":\"token generic class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"File \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"undefined\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"undefined\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handleSubmit\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"SyntheticEvent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"    e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"preventDefault\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"18\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"addPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" title\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" content\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" image \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"navigate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handlePizzaChange\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"SyntheticEvent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" pizzaInput \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"target\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"HTMLInputElement\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'change in pizzaInput:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" pizzaInput\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizzaInput\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handleDescriptionChange\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"SyntheticEvent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" descriptionInput \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"target\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"HTMLInputElement\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'change in descriptionInput:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" descriptionInput\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setDescription\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"descriptionInput\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"34\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handleImageChange\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"React\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ChangeEvent\"}]}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"HTMLInputElement\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"35\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"target\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"files\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"target\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"files\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"36\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setImage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"target\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"files\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"37\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"38\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"        margin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"        padding\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"        backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'secondary.light'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"        borderRadius\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"        boxShadow\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"50\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"      \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"form\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"onSubmit\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleSubmit\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"51\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marginBottom\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"52\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TextField\"}]]}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"53\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"fullWidth\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"54\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"id\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"55\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"56\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"label\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"Pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"57\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"variant\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"outlined\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"58\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"59\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"onChange\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handlePizzaChange\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"60\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"required\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"61\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"color\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"primary\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"62\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"63\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"              input\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" color\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"palette\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"secondary\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"contrastText\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"64\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"65\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"/\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"66\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"67\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marginBottom\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"68\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TextField\"}]]}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"69\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"fullWidth\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"70\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"id\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"71\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"72\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"label\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"Description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"73\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"variant\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"outlined\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"74\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"description\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"75\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"onChange\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleDescriptionChange\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"76\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"required\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"77\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"color\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"primary\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"78\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"79\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"              input\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" color\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"palette\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"secondary\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"contrastText\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"80\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"81\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"/\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"82\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"83\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marginBottom\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"84\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TextField\"}]]}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"85\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"fullWidth\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"86\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"id\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"87\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"88\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"file\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"89\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"slotProps\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" htmlInput\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" accept\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'image/*'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"90\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"variant\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"outlined\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"91\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"required\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"92\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"color\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"primary\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"93\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"onChange\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleImageChange\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"94\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"/\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"95\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"96\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Button\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"submit\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"variant\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"contained\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"color\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"primary\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"97\",\"children\":[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          Ajouter\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"98\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Button\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"99\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"      \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],\"form\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"100\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"101\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"102\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"103\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"104\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"AddPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les explications sur ces modifications :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"const [image, setImage] = useState\u003cFile | undefined\u003e(undefined)\"}]}],\" : cr√©e un √©tat pour stocker l'image s√©lectionn√©e par l'utilisateur. L'√©tat initial est \",[\"$\",\"strong\",null,{\"children\":\"`undefined\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"const handleImageChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e { ... }\"}]}],\" : est une fonction qui est appel√©e lorsque l'utilisateur s√©lectionne une image. Elle r√©cup√®re le fichier image s√©lectionn√© par l'utilisateur et le stocke dans l'√©tat \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003cTextField ... type=\\\"file\\\" slotProps={{ htmlInput: { accept: 'image/*' } }} ... /\u003e\"}]}],\" : cr√©e un champ de formulaire pour s√©lectionner une image. Le type du champ est \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"file\"}]}],\". L'attribut \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"accept\"}]}],\" est utilis√© pour restreindre les types de fichiers qui peuvent √™tre s√©lectionn√©s. Ici, nous restreignons les types de fichiers √† ceux de type image.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003cTextField ... onChange={handleImageChange} ... /\u003e\"}]}],\" : appelle la fonction \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"handleImageChange\"}]}],\" lorsque l'utilisateur s√©lectionne une image.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Il faut aussi mettre √† jour la d√©finition du type \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Pizza\"}]}],\" dans \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/frontend/src/types.ts\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  id\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  title\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  content\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"  image\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" File \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"undefined\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"  imageLocation\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"undefined\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Nous devons maintenant mettre √† jour la fonction \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"addPizza\"}]}],\" qui est d√©finie dans le composant \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"App\"}]}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour ce faire, veuillez mettre √† jour \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"addPizza\"}]}],\" dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/frontend/src/App/index.tsx\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-tsx\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"addPizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NewPizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"authenticatedUser\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'You must be authenticated to add a pizza'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" formData \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"FormData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"9\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" pizzaToBeAdded \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"parse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"stringify\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"10\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"delete\"}],\" pizzaToBeAdded\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"image\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"11\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"12\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"image\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"13\",\"children\":[\"        formData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"append\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'image'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" newPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"image\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"14\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"15\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"16\",\"children\":[\"      formData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"append\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"17\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'newPizza'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"18\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Blob\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"stringify\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizzaToBeAdded\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"19\",\"children\":[\"          type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'application/json'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"20\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"21\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"22\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"23\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" options \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"24\",\"children\":[\"        method\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'POST'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"25\",\"children\":[\"        body\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" formData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"26\",\"children\":[\"        headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"27\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Authorization\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" authenticatedUser\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"token\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"28\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"29\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" response \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"baseUrl\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/pizzas\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" options\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// fetch retourne une \\\"promise\\\" =\u003e on attend la r√©ponse\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ok\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"fetch error : \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"status\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\" : \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"statusText\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" createdPizza \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// json() retourne une \\\"promise\\\" =\u003e on attend les donn√©es\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setPizzas\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token spread operator\",\"children\":\"...\"}],\"pizzas\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" createdPizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'AddPizza::error: '\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Voici les explications sur ces modifications :\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"const formData = new FormData()\"}]}],\" : cr√©e un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"FormData\"}]}],\" pour stocker les donn√©es du formulaire multipart.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"const pizzaToBeAdded = JSON.parse(JSON.stringify(newPizza))\"}]}],\" : cr√©e une copie de l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"newPizza\"}]}],\". Nous supprimons le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image\"}]}],\" de l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizzaToBeAdded\"}]}],\" car nous l'ajoutons s√©par√©ment dans le formulaire multipart.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"if (newPizza.image) { formData.append('image', newPizza.image); }\"}]}],\" : ajoute le fichier image √† l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"formData\"}]}],\". Le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"image\"}]}],\" est ajout√© au formulaire multipart.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"formData.append('newPizza', new Blob([JSON.stringify(pizzaToBeAdded)], { type: 'application/json' }),)\"}]}],\" : ajoute l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizzaToBeAdded\"}]}],\" au formulaire multipart. L'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"pizzaToBeAdded\"}]}],\" est converti en cha√Æne JSON, puis en un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob\"}]}],\". Le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"newPizza\"}]}],\" est ajout√© au formulaire multipart. Pourquoi ajouter l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"newPizza\"}]}],\" en tant que \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob\"}]}],\" ? Parce que le contenu du formulaire multipart doit √™tre un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Blob\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"const options = { method: 'POST', body: formData, headers: { Authorization: authenticatedUser.token, }, };\"}]}],\" : cr√©e un objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"options\"}]}],\" pour la requ√™te \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"fetch\"}]}],\". La m√©thode de la requ√™te est \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"POST\"}]}],\". Le corps de la requ√™te est l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"formData\"}]}],\". L'en-t√™te de la requ√™te contient le token d'authentification de l'utilisateur.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Mise √† jour de l'affichage des pizzas\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Veuillez mettre √† jour le menu des pizzas. Pour ce faire, veuillez modifier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/frontend/src/components/PizzaMenu/index.tsx\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-tsx\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Table\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TableBody\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TableCell\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TableContainer\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TableHead\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TableRow\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Paper\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  useTheme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"10\",\"children\":[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Box\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@mui/material'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Pizza\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../types'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PizzaMenuProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"  pizzas\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Pizza\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"PizzaMenu\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" pizzas \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"PizzaMenuProps\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" theme \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useTheme\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableContainer\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"component\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Paper\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"      \u003cTable\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        sx=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"          minWidth\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"500\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'\u0026 .MuiTableCell-head'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"            backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"palette\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"primary\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dark\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"            color\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"palette\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"primary\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"contrastText\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[\"            fontWeight\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'bold'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'\u0026 .MuiTableCell-body'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"            backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"palette\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"primary\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"light\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"            color\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'white'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'\u0026 .MuiTableCell-root'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"            border\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"1px solid \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"theme\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"palette\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"secondary\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"main\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\" \"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"      \u003e\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableHead\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableRow\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"            \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"Pizza\"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"            \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"Description\"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"43\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"            \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"Image\"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableRow\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableHead\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableBody\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"          \"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizzas\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableRow\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"key\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"id\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"              \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"title\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"50\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"              \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"content\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"51\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"              \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"52\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"                \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Box\"}]]}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"53\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"                  \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"component\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"img\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"54\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"                  \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"src\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"imageLocation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"55\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"                  \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"alt\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"pizza\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"title\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"56\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"                  \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"sx\"}],[\"$\",\"span\",null,{\"className\":\"token script language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token script-punctuation punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" width\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'100px'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"57\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"                \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"/\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number highlight-line\",\"line\":\"58\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"              \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableCell\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"59\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"            \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableRow\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"60\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"61\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"        \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableBody\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"62\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"      \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Table\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"\\n\"}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"63\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token plain-text\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TableContainer\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003e\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"64\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"65\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"66\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"67\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"PizzaMenu\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Ici, nous avons ajout√© une colonne \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Image\"}]}],\" √† la table des pizzas. Pour chaque pizza, nous affichons l'image de la pizza.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"L'URL de l'image de la pizza est stock√©e dans le champ \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"imageLocation\"}]}],\" de l'objet \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Pizza\"}]}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Veuillez bien ex√©cutez votre application frontend pour voir les changements.\\nTout devrait √™tre fonctionnel et votre application devrait permettre de cr√©er des pizzas avec des images et d'afficher les images des pizzas.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Ainsi, lors de la cr√©ation d'une pizza, l'utilisateur peut s√©lectionner une image pour la pizza. L'image est stock√©e dans le service de stockage d'objets Azure Blob Storage. L'URL de l'image est stock√©e dans la DB. Lors de l'affichage des pizzas, l'image de chaque pizza est affich√©e.\\nPour l'affichage, c'est le browser, via une balise \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003cimg\u003e\"}]}],\", qui va chercher l'image stock√©e dans le service de stockage d'objets Azure Blob Storage.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"id\":\"comment_utiliser_le_service_de_stockage_dans_lenvironnement_de_staging\",\"children\":\" Comment utiliser le service de stockage dans l'environnement de staging ? \"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Introduction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Dans ce tutoriel, nous allons voir comment configurer le service de stockage d'objets Azure Blob Storage pour l'environnement de staging.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Configuration de l'API pour l'environnement de staging\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour configurer l'API pour l'environnement de staging, nous allons ajouter les configurations suivantes dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/api/src/main/resources/application-staging.properties\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-properties\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-properties code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.service-endpoint\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"https://imagestorage007.blob.core.windows.net/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.sas-token\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"$${AZURE_BLOB_SAS_TOKEN}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"azure.blob.container-name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"staging\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.enabled\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.max-file-size\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"10MB\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"spring.servlet.multipart.max-request-size\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"10MB\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Nous avons choisi de stocker les images des pizzas dans un blob container nomm√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"staging\"}]}],\" que nous avons cr√©√© pr√©c√©demment.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Il est de bonne pratique d'utiliser des containers diff√©rents pour chaque environnement (dev, staging, prod) pour isoler les donn√©es et √©viter les conflits.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Configuration des variables d'environnement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour passer le token d'acc√®s partag√© pour le service de stockage d'objets Azure Blob Storage, nous pouvons ajouter la propri√©t√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"AZURE_BLOB_SAS_TOKEN\"}]}],\" dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/docker-compose.staging.yml\"}]}],\" et dans le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/docker-compose.deploy.yml\"}]}],\" :\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-properties\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-properties code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"    environment\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"      -\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"SPRING_DATASOURCE_URL=${SPRING_DATASOURCE_URL}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"      -\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"SPRING_DATASOURCE_USERNAME=${SPRING_DATASOURCE_USERNAME}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"      -\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"SPRING_DATASOURCE_PASSWORD=${SPRING_DATASOURCE_PASSWORD}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token key attr-name\",\"children\":\"      -\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token value attr-value\",\"children\":\"AZURE_BLOB_SAS_TOKEN=${AZURE_BLOB_SAS_TOKEN}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Est-ce que c'est n√©cessaire de mettre cette variable d'environnement dans le fichier de configuration de docker compose qui sera ex√©cut√© sur Azure Web app ? Non, ce qui compte, c'est de configurer les variables d'environnement dans le portail Azure.\",[\"$\",\"br\",null,{}],\"\\n\",\"N√©anmoins, il est int√©ressant de les mettre dans le fichier de configuration pour ces raisons :\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"pour pouvoir tester en local.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"pour avoir une trace de toutes les configurations n√©cessaires pour le d√©ploiement.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Configuration des variables d'environnement dans le portail Azure\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour configurer les variables d'environnement dans le portail Azure, veuillez suivre les √©tapes suivantes.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Au niveau de votre Azure Web App (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"cae-groupxy-staging-app\"}]}],\" par exemple) via le portail Azure, veuillez :\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquer sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Settings\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Cliquer sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Environment variables\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Ajouter la variable d'environnement suivante en cliquant sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Add\"}]}],\" :\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"AZURE_BLOB_SAS_TOKEN\"}]}],\" (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Name\"}]}],\"): une valeur de token qui correspond √† ce que vous avez g√©n√©r√© pr√©c√©demment, comme par exemple \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"sv=2022-11-02\u0026ss=bfqt\u0026srt=o\u0026sp=rwdlacupiytfx\u0026se=2035-02-24T23:52:15Z\u0026st=2025-02-24T15:52:15Z\u0026spr=https\u0026sig=OoOAYhdQZGxO74hSUHKHgDw1Bvq%2FeSciIift10CMM34%3D\"}]}],\" (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Value\"}]}],\"). Cliquez sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Apply\"}]}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"N'oubliez pas de cliquer sur \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Apply\"}]}],\" pour sauvegarder l'ajout de la variable, puis \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Confirm\"}]}],\".\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Comment lancer un environnement local avec les configurations de staging ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour lancer un environnement local avec les configurations de staging, nous allons utiliser le fichier \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/docker-compose.staging.yml\"}]}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour ce faire, veuillez ex√©cuter la commande suivante :\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"docker\"}],\" compose \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-f\"}],\" docker-compose.staging.yml --env-file api/.env up \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"--build\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Puis, il suffit de lancer un browser et de se rendre sur \",[\"$\",\"a\",null,{\"href\":\"http://localhost\",\"children\":\"http://localhost\"}],\" pour acc√©der √† l'application frontend.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Comment lancer un environnement de staging sur Azure Web App ?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pour d√©ployer l'application sur Azure Web App, il suffit de pousser les modifications sur votre projet GitLab. Le pipeline GitLab se chargera de d√©ployer l'application sur Azure Web App.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Pour v√©rifier que l'application a bien √©t√© d√©ploy√©e, veuillez vous rendre sur le portail Azure, puis sur votre Azure Web App (\",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"cae-groupxy-staging-app\"}]}],\" par exemple).\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Vous devriez voir l'application frontend en vous rendant sur l'URL de l'application Azure Web App, par exemple : \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://cae-groupxy-staging-app.azurewebsites.net\"}]}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Si n√©cessaire, vous pouvez trouver le code associ√© √† la gestion des images ici : \",[\"$\",\"a\",null,{\"href\":\"https://github.com/e-vinci/cae-theory-demos/tree/main/images\",\"children\":\"images\"}],\".\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Conclusion sur la gestion des images avec Azure Stockage pour l'environnement de d√©veloppement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous avons maintenant un nouvel environnement de d√©veloppement local que nous pouvons visualiser ainsi :\"}],\"\\n\",[\"$\",\"$L17\",null,{\"src\":\"/diagrams/local-dev-deployment2.puml\",\"alt\":\"Environnement de d√©veloppement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pas tous les √©l√©ments de notre environnement de d√©veloppement sont locaux. En effet, nous avons un service de stockage d'objets Azure Blob Storage qui est utilis√© pour stocker les images des pizzas. Cela nous permet de tester le stockage des images dans un environnement similaire √† celui de production.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"üç¨ Si vous pr√©f√©riez, pour votre environnement de d√©veloppement uniquement, vous pourriez utiliser un serveur de fichiers statiques pour stocker les images. Cela vous permettrait de ne pas d√©pendre d'un service de stockage d'objets externe. Vous pourriez stocker les images dans un dossier local de votre API Spring. Nous ne verrons pas cela dans le cadre de ce cours, donc n'h√©sitez pas √† explorer par vous-m√™me.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Conclusion sur la gestion des images avec Azure Stockage pour l'environnement de staging\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Nous avons maintenant un nouvel environnement de staging que nous pouvons visualiser ainsi :\"}],\"\\n\",[\"$\",\"$L17\",null,{\"src\":\"/diagrams/staging-deployment2.puml\",\"alt\":\"Environnement de staging\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Nous avons configur√© l'API pour stocker les images des pizzas dans un blob container nomm√© \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"staging\"}]}],\" dans le service de stockage d'objets Azure Blob Storage.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Tout devrait √™tre fonctionnel et votre application devrait permettre de cr√©er des pizzas avec des images et d'afficher les images des pizzas dans l'environnement de staging.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Prochainement, nous allons voir comment faire un d√©ploiement en production.\"}]]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Images\"}]]\n"])</script><script>self.__next_f.push([1,"b:null\n"])</script></body></html>